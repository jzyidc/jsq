import{_ as _e}from"./_plugin-vue_export-helper-e4601500.js";/* empty css               *//* empty css                 *//* empty css                     *//* empty css                        *//* empty css                       *//* empty css                 *//* empty css                     *//* empty css                *//* empty css                     */import"./el-tooltip-4ed993c7.js";import{r as b,a0 as U,ab as S,c,d as N,i as l,w as o,an as ye,g as n,at as P,aC as B,k as D,l as u,F as Ve,f as H,E as i,p as be,ag as ke,ah as we,ap as ve,ao as Se,a3 as ce,a4 as xe,aD as Fe,aE as Ee,q as Te,a2 as Ue,az as Pe,aA as Be,aF as Ce,aG as Re}from"./index-53bb2135.js";const qe={class:"settings"},Ke={class:"setting-panel"},Le=["src"],Ne={class:"setting-panel"},De={class:"setting-panel"},He={class:"setting-panel"},Me={class:"setting-panel"},je={__name:"Settings",setup(Ae){const k=b("basic"),d=b(!1),K=b(!1),L=b(!1),x=b(),A=b(),F=b(),z=b(),I=b(),m=U({siteName:"中后台管理系统",siteDescription:"基于Vue.js的中后台管理系统",siteKeywords:"Vue.js,管理系统,后台管理",siteLogo:"",allowRegister:!0,requireEmailVerify:!1}),g=U({passwordStrength:"medium",maxLoginAttempts:5,lockoutDuration:15,sessionTimeout:120,forceHttps:!1}),p=U({smtpHost:"",smtpPort:587,fromEmail:"",fromName:"",password:"",encryption:"tls"}),r=U({type:"local",accessKey:"",secretKey:"",bucket:"",region:"",maxFileSize:10,allowedTypes:"jpg,png,gif,pdf,doc,docx"}),_=U({autoBackup:!1,frequency:"daily",backupTime:new Date,keepBackups:7}),O={siteName:[{required:!0,message:"请输入网站名称",trigger:"blur"}]},G={smtpHost:[{required:!0,message:"请输入SMTP服务器",trigger:"blur"}],smtpPort:[{required:!0,message:"请输入SMTP端口",trigger:"blur"}],fromEmail:[{required:!0,message:"请输入发件人邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],fromName:[{required:!0,message:"请输入发件人名称",trigger:"blur"}],password:[{required:!0,message:"请输入邮箱密码",trigger:"blur"}]},J=s=>{k.value=s},W=s=>{const e=s.type==="image/jpeg"||s.type==="image/png",C=s.size/1024/1024<2;return e||i.error("Logo只能是 JPG/PNG 格式!"),C||i.error("Logo大小不能超过 2MB!"),e&&C},Q=async()=>{if(x.value)try{if(!await x.value.validate())return;d.value=!0,await new Promise(e=>setTimeout(e,1e3)),i.success("基础设置保存成功")}catch{i.error("保存失败")}finally{d.value=!1}},X=async()=>{d.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),i.success("安全设置保存成功")}catch{i.error("保存失败")}finally{d.value=!1}},Y=async()=>{if(F.value)try{if(!await F.value.validate())return;d.value=!0,await new Promise(e=>setTimeout(e,1e3)),i.success("邮件配置保存成功")}catch{i.error("保存失败")}finally{d.value=!1}},Z=async()=>{K.value=!0;try{await new Promise(s=>setTimeout(s,2e3)),i.success("邮件连接测试成功")}catch{i.error("邮件连接测试失败")}finally{K.value=!1}},$=async()=>{d.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),i.success("存储配置保存成功")}catch{i.error("保存失败")}finally{d.value=!1}},h=async()=>{d.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),i.success("备份设置保存成功")}catch{i.error("保存失败")}finally{d.value=!1}},ee=async()=>{L.value=!0;try{await new Promise(s=>setTimeout(s,3e3)),i.success("数据备份完成")}catch{i.error("备份失败")}finally{L.value=!1}},le=()=>{x.value&&x.value.resetFields()},oe=()=>{Object.assign(g,{passwordStrength:"medium",maxLoginAttempts:5,lockoutDuration:15,sessionTimeout:120,forceHttps:!1})},te=()=>{F.value&&F.value.resetFields()},ae=()=>{Object.assign(r,{type:"local",accessKey:"",secretKey:"",bucket:"",region:"",maxFileSize:10,allowedTypes:"jpg,png,gif,pdf,doc,docx"})},se=()=>{Object.assign(_,{autoBackup:!1,frequency:"daily",backupTime:new Date,keepBackups:7})};return(s,e)=>{const C=S("Setting"),w=be,E=ke,ue=S("Lock"),ne=S("Message"),re=S("FolderOpened"),ie=S("Download"),de=we,M=ve,j=Se,y=ce,a=xe,me=S("Plus"),pe=Fe,R=Ee,V=Te,T=Ue,f=Pe,q=Be,v=Ce,fe=Re,ge=ye;return c(),N("div",qe,[l(ge,{gutter:20},{default:o(()=>[l(j,{xs:24,md:6},{default:o(()=>[l(M,{class:"menu-card"},{default:o(()=>[l(de,{"default-active":k.value,onSelect:J,class:"settings-menu"},{default:o(()=>[l(E,{index:"basic"},{default:o(()=>[l(w,null,{default:o(()=>[l(C)]),_:1}),e[27]||(e[27]=n("span",null,"基础设置",-1))]),_:1,__:[27]}),l(E,{index:"security"},{default:o(()=>[l(w,null,{default:o(()=>[l(ue)]),_:1}),e[28]||(e[28]=n("span",null,"安全设置",-1))]),_:1,__:[28]}),l(E,{index:"email"},{default:o(()=>[l(w,null,{default:o(()=>[l(ne)]),_:1}),e[29]||(e[29]=n("span",null,"邮件配置",-1))]),_:1,__:[29]}),l(E,{index:"storage"},{default:o(()=>[l(w,null,{default:o(()=>[l(re)]),_:1}),e[30]||(e[30]=n("span",null,"存储配置",-1))]),_:1,__:[30]}),l(E,{index:"backup"},{default:o(()=>[l(w,null,{default:o(()=>[l(ie)]),_:1}),e[31]||(e[31]=n("span",null,"备份设置",-1))]),_:1,__:[31]})]),_:1},8,["default-active"])]),_:1})]),_:1}),l(j,{xs:24,md:18},{default:o(()=>[l(M,{class:"content-card"},{default:o(()=>[P(n("div",Ke,[e[36]||(e[36]=n("h3",null,"基础设置",-1)),l(T,{ref_key:"basicFormRef",ref:x,model:m,rules:O,"label-width":"120px",class:"setting-form"},{default:o(()=>[l(a,{label:"网站名称",prop:"siteName"},{default:o(()=>[l(y,{modelValue:m.siteName,"onUpdate:modelValue":e[0]||(e[0]=t=>m.siteName=t),placeholder:"请输入网站名称"},null,8,["modelValue"])]),_:1}),l(a,{label:"网站描述",prop:"siteDescription"},{default:o(()=>[l(y,{modelValue:m.siteDescription,"onUpdate:modelValue":e[1]||(e[1]=t=>m.siteDescription=t),type:"textarea",rows:3,placeholder:"请输入网站描述"},null,8,["modelValue"])]),_:1}),l(a,{label:"网站关键词",prop:"siteKeywords"},{default:o(()=>[l(y,{modelValue:m.siteKeywords,"onUpdate:modelValue":e[2]||(e[2]=t=>m.siteKeywords=t),placeholder:"请输入网站关键词，用逗号分隔"},null,8,["modelValue"])]),_:1}),l(a,{label:"网站Logo"},{default:o(()=>[l(pe,{class:"logo-uploader",action:"#","show-file-list":!1,"before-upload":W},{default:o(()=>[m.siteLogo?(c(),N("img",{key:0,src:m.siteLogo,class:"logo"},null,8,Le)):(c(),D(w,{key:1,class:"logo-uploader-icon"},{default:o(()=>[l(me)]),_:1}))]),_:1})]),_:1}),l(a,{label:"用户注册",prop:"allowRegister"},{default:o(()=>[l(R,{modelValue:m.allowRegister,"onUpdate:modelValue":e[3]||(e[3]=t=>m.allowRegister=t)},null,8,["modelValue"]),e[32]||(e[32]=n("span",{class:"form-tip"},"关闭后新用户无法注册",-1))]),_:1,__:[32]}),l(a,{label:"邮箱验证",prop:"requireEmailVerify"},{default:o(()=>[l(R,{modelValue:m.requireEmailVerify,"onUpdate:modelValue":e[4]||(e[4]=t=>m.requireEmailVerify=t)},null,8,["modelValue"]),e[33]||(e[33]=n("span",{class:"form-tip"},"开启后注册需要邮箱验证",-1))]),_:1,__:[33]}),l(a,null,{default:o(()=>[l(V,{type:"primary",onClick:Q,loading:d.value},{default:o(()=>e[34]||(e[34]=[u(" 保存设置 ")])),_:1,__:[34]},8,["loading"]),l(V,{onClick:le},{default:o(()=>e[35]||(e[35]=[u("重置")])),_:1,__:[35]})]),_:1})]),_:1},8,["model"])],512),[[B,k.value==="basic"]]),P(n("div",Ne,[e[46]||(e[46]=n("h3",null,"安全设置",-1)),l(T,{ref_key:"securityFormRef",ref:A,model:g,"label-width":"120px",class:"setting-form"},{default:o(()=>[l(a,{label:"密码强度"},{default:o(()=>[l(q,{modelValue:g.passwordStrength,"onUpdate:modelValue":e[5]||(e[5]=t=>g.passwordStrength=t)},{default:o(()=>[l(f,{label:"low"},{default:o(()=>e[37]||(e[37]=[u("低（6位以上）")])),_:1,__:[37]}),l(f,{label:"medium"},{default:o(()=>e[38]||(e[38]=[u("中（包含字母和数字）")])),_:1,__:[38]}),l(f,{label:"high"},{default:o(()=>e[39]||(e[39]=[u("高（包含大小写字母、数字和特殊字符）")])),_:1,__:[39]})]),_:1},8,["modelValue"])]),_:1}),l(a,{label:"登录失败限制"},{default:o(()=>[l(v,{modelValue:g.maxLoginAttempts,"onUpdate:modelValue":e[6]||(e[6]=t=>g.maxLoginAttempts=t),min:3,max:10,"controls-position":"right"},null,8,["modelValue"]),e[40]||(e[40]=n("span",{class:"form-tip"},"次失败后锁定账户",-1))]),_:1,__:[40]}),l(a,{label:"锁定时间"},{default:o(()=>[l(v,{modelValue:g.lockoutDuration,"onUpdate:modelValue":e[7]||(e[7]=t=>g.lockoutDuration=t),min:5,max:60,"controls-position":"right"},null,8,["modelValue"]),e[41]||(e[41]=n("span",{class:"form-tip"},"分钟",-1))]),_:1,__:[41]}),l(a,{label:"会话超时"},{default:o(()=>[l(v,{modelValue:g.sessionTimeout,"onUpdate:modelValue":e[8]||(e[8]=t=>g.sessionTimeout=t),min:30,max:1440,"controls-position":"right"},null,8,["modelValue"]),e[42]||(e[42]=n("span",{class:"form-tip"},"分钟",-1))]),_:1,__:[42]}),l(a,{label:"强制HTTPS"},{default:o(()=>[l(R,{modelValue:g.forceHttps,"onUpdate:modelValue":e[9]||(e[9]=t=>g.forceHttps=t)},null,8,["modelValue"]),e[43]||(e[43]=n("span",{class:"form-tip"},"强制使用HTTPS访问",-1))]),_:1,__:[43]}),l(a,null,{default:o(()=>[l(V,{type:"primary",onClick:X,loading:d.value},{default:o(()=>e[44]||(e[44]=[u(" 保存设置 ")])),_:1,__:[44]},8,["loading"]),l(V,{onClick:oe},{default:o(()=>e[45]||(e[45]=[u("重置")])),_:1,__:[45]})]),_:1})]),_:1},8,["model"])],512),[[B,k.value==="security"]]),P(n("div",De,[e[53]||(e[53]=n("h3",null,"邮件配置",-1)),l(T,{ref_key:"emailFormRef",ref:F,model:p,rules:G,"label-width":"120px",class:"setting-form"},{default:o(()=>[l(a,{label:"SMTP服务器",prop:"smtpHost"},{default:o(()=>[l(y,{modelValue:p.smtpHost,"onUpdate:modelValue":e[10]||(e[10]=t=>p.smtpHost=t),placeholder:"如：smtp.gmail.com"},null,8,["modelValue"])]),_:1}),l(a,{label:"SMTP端口",prop:"smtpPort"},{default:o(()=>[l(v,{modelValue:p.smtpPort,"onUpdate:modelValue":e[11]||(e[11]=t=>p.smtpPort=t),min:1,max:65535,"controls-position":"right"},null,8,["modelValue"])]),_:1}),l(a,{label:"发件人邮箱",prop:"fromEmail"},{default:o(()=>[l(y,{modelValue:p.fromEmail,"onUpdate:modelValue":e[12]||(e[12]=t=>p.fromEmail=t),placeholder:"请输入发件人邮箱"},null,8,["modelValue"])]),_:1}),l(a,{label:"发件人名称",prop:"fromName"},{default:o(()=>[l(y,{modelValue:p.fromName,"onUpdate:modelValue":e[13]||(e[13]=t=>p.fromName=t),placeholder:"请输入发件人名称"},null,8,["modelValue"])]),_:1}),l(a,{label:"邮箱密码",prop:"password"},{default:o(()=>[l(y,{modelValue:p.password,"onUpdate:modelValue":e[14]||(e[14]=t=>p.password=t),type:"password",placeholder:"请输入邮箱密码或授权码","show-password":""},null,8,["modelValue"])]),_:1}),l(a,{label:"加密方式"},{default:o(()=>[l(q,{modelValue:p.encryption,"onUpdate:modelValue":e[15]||(e[15]=t=>p.encryption=t)},{default:o(()=>[l(f,{label:"none"},{default:o(()=>e[47]||(e[47]=[u("无")])),_:1,__:[47]}),l(f,{label:"ssl"},{default:o(()=>e[48]||(e[48]=[u("SSL")])),_:1,__:[48]}),l(f,{label:"tls"},{default:o(()=>e[49]||(e[49]=[u("TLS")])),_:1,__:[49]})]),_:1},8,["modelValue"])]),_:1}),l(a,null,{default:o(()=>[l(V,{type:"primary",onClick:Y,loading:d.value},{default:o(()=>e[50]||(e[50]=[u(" 保存设置 ")])),_:1,__:[50]},8,["loading"]),l(V,{onClick:Z,loading:K.value},{default:o(()=>e[51]||(e[51]=[u(" 测试连接 ")])),_:1,__:[51]},8,["loading"]),l(V,{onClick:te},{default:o(()=>e[52]||(e[52]=[u("重置")])),_:1,__:[52]})]),_:1})]),_:1},8,["model"])],512),[[B,k.value==="email"]]),P(n("div",He,[e[61]||(e[61]=n("h3",null,"存储配置",-1)),l(T,{ref_key:"storageFormRef",ref:z,model:r,"label-width":"120px",class:"setting-form"},{default:o(()=>[l(a,{label:"存储方式"},{default:o(()=>[l(q,{modelValue:r.type,"onUpdate:modelValue":e[16]||(e[16]=t=>r.type=t)},{default:o(()=>[l(f,{label:"local"},{default:o(()=>e[54]||(e[54]=[u("本地存储")])),_:1,__:[54]}),l(f,{label:"oss"},{default:o(()=>e[55]||(e[55]=[u("阿里云OSS")])),_:1,__:[55]}),l(f,{label:"qiniu"},{default:o(()=>e[56]||(e[56]=[u("七牛云")])),_:1,__:[56]}),l(f,{label:"aws"},{default:o(()=>e[57]||(e[57]=[u("AWS S3")])),_:1,__:[57]})]),_:1},8,["modelValue"])]),_:1}),r.type!=="local"?(c(),N(Ve,{key:0},[l(a,{label:"Access Key"},{default:o(()=>[l(y,{modelValue:r.accessKey,"onUpdate:modelValue":e[17]||(e[17]=t=>r.accessKey=t),placeholder:"请输入Access Key"},null,8,["modelValue"])]),_:1}),l(a,{label:"Secret Key"},{default:o(()=>[l(y,{modelValue:r.secretKey,"onUpdate:modelValue":e[18]||(e[18]=t=>r.secretKey=t),type:"password",placeholder:"请输入Secret Key","show-password":""},null,8,["modelValue"])]),_:1}),l(a,{label:"存储桶"},{default:o(()=>[l(y,{modelValue:r.bucket,"onUpdate:modelValue":e[19]||(e[19]=t=>r.bucket=t),placeholder:"请输入存储桶名称"},null,8,["modelValue"])]),_:1}),l(a,{label:"地域"},{default:o(()=>[l(y,{modelValue:r.region,"onUpdate:modelValue":e[20]||(e[20]=t=>r.region=t),placeholder:"请输入地域"},null,8,["modelValue"])]),_:1})],64)):H("",!0),l(a,{label:"最大文件大小"},{default:o(()=>[l(v,{modelValue:r.maxFileSize,"onUpdate:modelValue":e[21]||(e[21]=t=>r.maxFileSize=t),min:1,max:100,"controls-position":"right"},null,8,["modelValue"]),e[58]||(e[58]=n("span",{class:"form-tip"},"MB",-1))]),_:1,__:[58]}),l(a,{label:"允许的文件类型"},{default:o(()=>[l(y,{modelValue:r.allowedTypes,"onUpdate:modelValue":e[22]||(e[22]=t=>r.allowedTypes=t),placeholder:"如：jpg,png,gif,pdf"},null,8,["modelValue"])]),_:1}),l(a,null,{default:o(()=>[l(V,{type:"primary",onClick:$,loading:d.value},{default:o(()=>e[59]||(e[59]=[u(" 保存设置 ")])),_:1,__:[59]},8,["loading"]),l(V,{onClick:ae},{default:o(()=>e[60]||(e[60]=[u("重置")])),_:1,__:[60]})]),_:1})]),_:1},8,["model"])],512),[[B,k.value==="storage"]]),P(n("div",Me,[e[70]||(e[70]=n("h3",null,"备份设置",-1)),l(T,{ref_key:"backupFormRef",ref:I,model:_,"label-width":"120px",class:"setting-form"},{default:o(()=>[l(a,{label:"自动备份"},{default:o(()=>[l(R,{modelValue:_.autoBackup,"onUpdate:modelValue":e[23]||(e[23]=t=>_.autoBackup=t)},null,8,["modelValue"]),e[62]||(e[62]=n("span",{class:"form-tip"},"开启后系统将自动备份数据",-1))]),_:1,__:[62]}),_.autoBackup?(c(),D(a,{key:0,label:"备份频率"},{default:o(()=>[l(q,{modelValue:_.frequency,"onUpdate:modelValue":e[24]||(e[24]=t=>_.frequency=t)},{default:o(()=>[l(f,{label:"daily"},{default:o(()=>e[63]||(e[63]=[u("每天")])),_:1,__:[63]}),l(f,{label:"weekly"},{default:o(()=>e[64]||(e[64]=[u("每周")])),_:1,__:[64]}),l(f,{label:"monthly"},{default:o(()=>e[65]||(e[65]=[u("每月")])),_:1,__:[65]})]),_:1},8,["modelValue"])]),_:1})):H("",!0),_.autoBackup?(c(),D(a,{key:1,label:"备份时间"},{default:o(()=>[l(fe,{modelValue:_.backupTime,"onUpdate:modelValue":e[25]||(e[25]=t=>_.backupTime=t),format:"HH:mm",placeholder:"选择备份时间"},null,8,["modelValue"])]),_:1})):H("",!0),l(a,{label:"保留备份数量"},{default:o(()=>[l(v,{modelValue:_.keepBackups,"onUpdate:modelValue":e[26]||(e[26]=t=>_.keepBackups=t),min:1,max:30,"controls-position":"right"},null,8,["modelValue"]),e[66]||(e[66]=n("span",{class:"form-tip"},"个",-1))]),_:1,__:[66]}),l(a,null,{default:o(()=>[l(V,{type:"primary",onClick:h,loading:d.value},{default:o(()=>e[67]||(e[67]=[u(" 保存设置 ")])),_:1,__:[67]},8,["loading"]),l(V,{type:"success",onClick:ee,loading:L.value},{default:o(()=>e[68]||(e[68]=[u(" 立即备份 ")])),_:1,__:[68]},8,["loading"]),l(V,{onClick:se},{default:o(()=>e[69]||(e[69]=[u("重置")])),_:1,__:[69]})]),_:1})]),_:1},8,["model"])],512),[[B,k.value==="backup"]])]),_:1})]),_:1})]),_:1})])}}},el=_e(je,[["__scopeId","data-v-5bb8fce9"]]);export{el as default};
