import{_ as z}from"./_plugin-vue_export-helper-e4601500.js";/* empty css                           *//* empty css                         *//* empty css                     *//* empty css                  *//* empty css                     */import"./el-tooltip-4ed993c7.js";import{_ as G,a as J,u as K,r as O,$ as h,o as P,aa as Q,ab as u,c as _,d as b,i as e,w as t,ac as ee,ad as te,g as d,f as w,l as n,k as c,B as x,j as i,ae,L as oe,af as ne,p as se,ag as le,ah as re,q as ue,ai as _e,aj as de,X as ce,Y as ie,Z as me,s as pe,ak as fe,al as ve}from"./index-53bb2135.js";import{_ as ge}from"./logo-a60c622a.js";import{g as he,a as be}from"./userHelper-c8e5e727.js";const we={class:"admin-layout"},xe={class:"logo"},Ee={key:0,src:ge,alt:"Logo"},ke={key:1},Ie={class:"header-left"},ye={class:"header-right"},Be={class:"user-info"},De={class:"username"},Ce={__name:"Layout",setup(Ae){const m=G(),p=J(),s=K(),l=O(!1),y=h(()=>m.path),B=h(()=>{if(s.userInfo.avatar)return s.userInfo.avatar;const o=s.userInfo.id||s.userInfo.phone||"1";return`/avatars/avatar${parseInt(o.toString())%6+1}.svg`}),f=h(()=>{const o=[];switch(m.path){case"/admin/dashboard":o.push("仪表盘");break;case"/admin/users":o.push("用户管理");break;case"/admin/settings":o.push("系统设置");break}return o}),D=()=>{l.value=!l.value},C=o=>{switch(o){case"profile":p.push("/user/profile");break;case"settings":p.push("/admin/settings");break;case"logout":A();break}},A=()=>{ne.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{s.logoutAction().then(()=>{p.push("/login")})})};return P(()=>{s.getUserInfoAction()}),Q(()=>m.path,()=>{window.innerWidth<=768&&(l.value=!0)}),(o,a)=>{const S=u("Dashboard"),r=se,v=le,E=u("User"),k=u("Setting"),L=re,M=ee,U=u("Expand"),N=u("Fold"),T=ue,I=_e,V=de,j=ce,q=u("ArrowDown"),g=ie,F=u("SwitchButton"),R=me,$=pe,H=fe,W=u("router-view"),X=ve,Y=te;return _(),b("div",we,[e(M,{width:l.value?"64px":"200px",class:"sidebar"},{default:t(()=>[d("div",xe,[l.value?w("",!0):(_(),b("img",Ee)),l.value?w("",!0):(_(),b("span",ke,"管理后台"))]),e(L,{"default-active":y.value,collapse:l.value,"unique-opened":!0,router:"",class:"sidebar-menu"},{default:t(()=>[e(v,{index:"/admin/dashboard"},{title:t(()=>a[0]||(a[0]=[n("仪表盘")])),default:t(()=>[e(r,null,{default:t(()=>[e(S)]),_:1})]),_:1}),e(v,{index:"/admin/users"},{title:t(()=>a[1]||(a[1]=[n("用户管理")])),default:t(()=>[e(r,null,{default:t(()=>[e(E)]),_:1})]),_:1}),e(v,{index:"/admin/settings"},{title:t(()=>a[2]||(a[2]=[n("系统设置")])),default:t(()=>[e(r,null,{default:t(()=>[e(k)]),_:1})]),_:1})]),_:1},8,["default-active","collapse"])]),_:1},8,["width"]),e(Y,{class:"main-container"},{default:t(()=>[e(H,{class:"header"},{default:t(()=>[d("div",Ie,[e(T,{type:"text",onClick:D,class:"collapse-btn"},{default:t(()=>[e(r,null,{default:t(()=>[l.value?(_(),c(U,{key:0})):(_(),c(N,{key:1}))]),_:1})]),_:1}),e(V,{separator:"/",class:"breadcrumb"},{default:t(()=>[e(I,{to:{path:"/admin"}},{default:t(()=>a[3]||(a[3]=[n("首页")])),_:1,__:[3]}),f.value.length>0?(_(),c(I,{key:0},{default:t(()=>[n(x(f.value[f.value.length-1]),1)]),_:1})):w("",!0)]),_:1})]),d("div",ye,[e($,{onCommand:C},{dropdown:t(()=>[e(R,null,{default:t(()=>[e(g,{command:"profile"},{default:t(()=>[e(r,null,{default:t(()=>[e(E)]),_:1}),a[4]||(a[4]=n(" 个人中心 "))]),_:1,__:[4]}),e(g,{command:"settings"},{default:t(()=>[e(r,null,{default:t(()=>[e(k)]),_:1}),a[5]||(a[5]=n(" 设置 "))]),_:1,__:[5]}),e(g,{divided:"",command:"logout"},{default:t(()=>[e(r,null,{default:t(()=>[e(F)]),_:1}),a[6]||(a[6]=n(" 退出登录 "))]),_:1,__:[6]})]),_:1})]),default:t(()=>[d("div",Be,[e(j,{src:B.value,class:"avatar"},{default:t(()=>[n(x(i(he)(i(s).userInfo)),1)]),_:1},8,["src"]),d("span",De,x(i(be)(i(s).userInfo)),1),e(r,{class:"arrow-down"},{default:t(()=>[e(q)]),_:1})])]),_:1})])]),_:1}),e(X,{class:"main-content"},{default:t(()=>[e(W,null,{default:t(({Component:Z})=>[e(ae,{name:"fade",mode:"out-in"},{default:t(()=>[(_(),c(oe(Z)))]),_:2},1024)]),_:1})]),_:1})]),_:1})])}}},Re=z(Ce,[["__scopeId","data-v-28fc6abf"]]);export{Re as default};
