import{_ as j}from"./_plugin-vue_export-helper-e4601500.js";/* empty css                   *//* empty css               *//* empty css                *//* empty css               *//* empty css                  */import{u as R,a as W,r as b,a9 as H,aa as Q,o as G,c as f,d as g,g as s,i as t,D as d,j as o,k as L,w as a,f as m,X as M,t as O,az as X,aA as J,T as q,l as x,aB as U,ag as K,H as P,ak as y,am as Y,ah as Z,x as ss,aj as ts,af as es,aC as as,C as os,S as ls,aD as ns,aE as is,aF as ds,R as rs,p as cs,aG as us,aH as _s,q as fs}from"./index-cf8bdcfb.js";import{a as ms,f as vs}from"./userHelper-c8e5e727.js";const ps={class:"welcome-container"},gs={class:"welcome-header"},xs={class:"avatar-section"},Is={class:"user-info"},hs={class:"welcome-text"},bs={class:"user-details"},ys={class:"stats-section"},ks={class:"stat-item"},Cs={class:"stat-content"},ws={class:"stat-number"},Ns={class:"stat-item"},$s={class:"stat-content"},Es={class:"stat-number"},Ds={class:"stat-item"},Ls={class:"stat-content"},qs={class:"stat-number"},Us={class:"stat-item"},zs={class:"stat-content"},Bs={class:"stat-number"},Fs={class:"stat-item"},Ts={class:"stat-content"},Vs={class:"stat-number"},As={class:"quick-actions"},Ss={class:"action-item"},js={class:"action-item"},Rs={class:"action-item"},Ws={class:"action-item"},Hs={class:"action-item"},Qs={class:"action-item"},Gs={class:"referral-section"},Ms={class:"card-header"},Os={class:"referrer-info"},Xs={key:0,class:"info-item"},Js={class:"info-value"},Ks={key:1,class:"info-item"},Ps={class:"info-value"},Ys={key:2,class:"info-item"},Zs={class:"info-value"},st={key:3,class:"no-referrer"},tt={class:"card-header"},et={class:"promotion-stats"},at={class:"stat-box"},ot={class:"stat-number"},lt={class:"stat-box"},nt={class:"stat-number"},it={class:"stat-box"},dt={class:"stat-number"},rt={class:"stat-box"},ct={class:"stat-number"},ut={key:0,class:"notice-content"},_t={class:"notice-header"},ft={class:"notice-title"},mt={class:"notice-time"},vt={class:"notice-body"},pt={class:"notice-text"},gt={class:"notice-footer"},xt={key:0,class:"notice-pagination"},It={class:"pagination-info"},ht={__name:"Welcome",setup(bt){const l=R();W();const I=b(!1),v=b(null),_=b(0),z=H(()=>{if(l.userInfo.avatar)return l.userInfo.avatar;const r=l.userInfo.id||l.userInfo.phone||"1";return`/avatars/avatar${parseInt(r.toString())%6+1}.svg`}),B=r=>{if(!r)return"";const e=typeof r=="string"?new Date(r):r;return isNaN(e.getTime())?"":e.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})},k=async()=>{const r=await l.getNoticeAction();r.success&&r.data&&r.data.length>0&&(_.value=0,v.value=r.data[0],I.value=!0)},F=()=>{_.value<l.noticeList.length-1&&(_.value++,v.value=l.noticeList[_.value])},T=()=>{_.value>0&&(_.value--,v.value=l.noticeList[_.value])},V=()=>{I.value=!1,l.resetFirstLogin()};return Q(()=>l.isFirstLogin,r=>{r&&setTimeout(()=>{k()},1e3)}),G(()=>{l.isFirstLogin&&k()}),(r,e)=>{const A=M,i=cs,C=O,u=us,c=_s,p=X,h=fs,S=J;return f(),g("div",ps,[s("div",gs,[s("div",xs,[t(A,{size:80,src:z.value,icon:"User"},null,8,["src"]),s("div",Is,[s("h2",null,"欢迎回来，"+d(o(ms)(o(l).userInfo))+"！",1),s("p",hs,d(o(l).userInfo.agent||"很高兴再次见到您"),1),s("div",bs,[o(l).userInfo.phone?(f(),L(C,{key:0,type:"info",size:"small"},{default:a(()=>[t(i,null,{default:a(()=>[t(o(q))]),_:1}),x(" "+d(o(l).userInfo.phone),1)]),_:1})):m("",!0),o(l).userInfo.createTime?(f(),L(C,{key:1,type:"success",size:"small"},{default:a(()=>[t(i,null,{default:a(()=>[t(o(U))]),_:1}),x(" 注册于 "+d(B(o(l).userInfo.createTime)),1)]),_:1})):m("",!0)])])])]),s("div",ys,[t(p,{gutter:20},{default:a(()=>[t(c,{xs:12,sm:12,md:6,lg:6,xl:6},{default:a(()=>[t(u,{class:"stat-card"},{default:a(()=>[s("div",ks,[t(i,{class:"stat-icon",color:"#67C23A"},{default:a(()=>[t(o(K))]),_:1}),s("div",Cs,[s("div",ws,"¥"+d(o(vs)(o(l).userInfo.balance)),1),e[7]||(e[7]=s("div",{class:"stat-label"},"账户余额",-1))])])]),_:1})]),_:1}),t(c,{xs:12,sm:12,md:6,lg:6,xl:6},{default:a(()=>[t(u,{class:"stat-card"},{default:a(()=>{var n;return[s("div",Ns,[t(i,{class:"stat-icon",color:"#409EFF"},{default:a(()=>[t(o(P))]),_:1}),s("div",$s,[s("div",Es,d(((n=o(l).userInfo.nodeInfo)==null?void 0:n.total_num)||0),1),e[8]||(e[8]=s("div",{class:"stat-label"},"节点数量",-1))])])]}),_:1})]),_:1}),t(c,{xs:12,sm:12,md:6,lg:6,xl:6},{default:a(()=>[t(u,{class:"stat-card"},{default:a(()=>{var n;return[s("div",Ds,[t(i,{class:"stat-icon",color:"#E6A23C"},{default:a(()=>[t(o(y))]),_:1}),s("div",Ls,[s("div",qs,d(((n=o(l).userInfo.nodeInfo)==null?void 0:n.pause_num)||0),1),e[9]||(e[9]=s("div",{class:"stat-label"},"暂停节点数",-1))])])]}),_:1})]),_:1}),t(c,{xs:12,sm:12,md:6,lg:6,xl:6},{default:a(()=>[t(u,{class:"stat-card"},{default:a(()=>{var n;return[s("div",Us,[t(i,{class:"stat-icon",color:"#F56C6C"},{default:a(()=>[t(o(y))]),_:1}),s("div",zs,[s("div",Bs,d(((n=o(l).userInfo.nodeInfo)==null?void 0:n.expire_7_num)||0),1),e[10]||(e[10]=s("div",{class:"stat-label"},"7天到期节点数",-1))])])]}),_:1})]),_:1})]),_:1}),t(p,{gutter:20,style:{"margin-top":"20px"}},{default:a(()=>[t(c,{xs:12,sm:12,md:6,lg:6,xl:6},{default:a(()=>[t(u,{class:"stat-card"},{default:a(()=>{var n;return[s("div",Fs,[t(i,{class:"stat-icon",color:"#909399"},{default:a(()=>[t(o(y))]),_:1}),s("div",Ts,[s("div",Vs,d(((n=o(l).userInfo.nodeInfo)==null?void 0:n.expire_end_num)||0),1),e[11]||(e[11]=s("div",{class:"stat-label"},"已过期节点数",-1))])])]}),_:1})]),_:1})]),_:1})]),s("div",As,[e[18]||(e[18]=s("h3",null,"快速操作",-1)),t(p,{gutter:20},{default:a(()=>[t(c,{xs:24,sm:12,md:8,lg:8,xl:8},{default:a(()=>[t(u,{class:"action-card",onClick:e[0]||(e[0]=n=>r.$router.push("/user/profile"))},{default:a(()=>[s("div",Ss,[t(i,{class:"action-icon"},{default:a(()=>[t(o(Y))]),_:1}),e[12]||(e[12]=s("div",{class:"action-content"},[s("div",{class:"action-title"},"个人资料"),s("div",{class:"action-desc"},"查看和编辑个人信息")],-1))])]),_:1})]),_:1}),t(c,{xs:24,sm:12,md:8,lg:8,xl:8},{default:a(()=>[t(u,{class:"action-card",onClick:e[1]||(e[1]=n=>r.$router.push("/user/logs"))},{default:a(()=>[s("div",js,[t(i,{class:"action-icon"},{default:a(()=>[t(o(Z))]),_:1}),e[13]||(e[13]=s("div",{class:"action-content"},[s("div",{class:"action-title"},"操作日志"),s("div",{class:"action-desc"},"查看账户操作记录")],-1))])]),_:1})]),_:1}),t(c,{xs:24,sm:12,md:8,lg:8,xl:8},{default:a(()=>[t(u,{class:"action-card",onClick:e[2]||(e[2]=n=>r.$router.push("/user/products/routes"))},{default:a(()=>[s("div",Rs,[t(i,{class:"action-icon"},{default:a(()=>[t(o(ss))]),_:1}),e[14]||(e[14]=s("div",{class:"action-content"},[s("div",{class:"action-title"},"订购业务"),s("div",{class:"action-desc"},"项目线路订购服务")],-1))])]),_:1})]),_:1})]),_:1}),t(p,{gutter:20,style:{"margin-top":"20px"}},{default:a(()=>[t(c,{xs:24,sm:12,md:8,lg:8,xl:8},{default:a(()=>[t(u,{class:"action-card",onClick:e[3]||(e[3]=n=>r.$router.push("/user/business/list"))},{default:a(()=>[s("div",Ws,[t(i,{class:"action-icon"},{default:a(()=>[t(o(ts))]),_:1}),e[15]||(e[15]=s("div",{class:"action-content"},[s("div",{class:"action-title"},"业务列表"),s("div",{class:"action-desc"},"查看已订购的业务")],-1))])]),_:1})]),_:1}),t(c,{xs:24,sm:12,md:8,lg:8,xl:8},{default:a(()=>[t(u,{class:"action-card",onClick:e[4]||(e[4]=n=>r.$router.push("/user/recharge"))},{default:a(()=>[s("div",Hs,[t(i,{class:"action-icon"},{default:a(()=>[t(o(es))]),_:1}),e[16]||(e[16]=s("div",{class:"action-content"},[s("div",{class:"action-title"},"财务管理"),s("div",{class:"action-desc"},"账户充值和财务记录")],-1))])]),_:1})]),_:1}),t(c,{xs:24,sm:12,md:8,lg:8,xl:8},{default:a(()=>[t(u,{class:"action-card",onClick:e[5]||(e[5]=n=>r.$router.push("/user/orders"))},{default:a(()=>[s("div",Qs,[t(i,{class:"action-icon"},{default:a(()=>[t(o(as))]),_:1}),e[17]||(e[17]=s("div",{class:"action-content"},[s("div",{class:"action-title"},"订单列表"),s("div",{class:"action-desc"},"查看所有订单记录")],-1))])]),_:1})]),_:1})]),_:1})]),s("div",Gs,[e[29]||(e[29]=s("h3",null,"代理推广",-1)),t(p,{gutter:20},{default:a(()=>[t(c,{xs:24,sm:24,md:12,lg:12,xl:12},{default:a(()=>[t(u,{class:"referrer-card"},{header:a(()=>[s("div",Ms,[t(i,{class:"header-icon"},{default:a(()=>[t(o(os))]),_:1}),e[19]||(e[19]=s("span",null,"上级推荐人",-1))])]),default:a(()=>{var n,w,N,$,E,D;return[s("div",Os,[(n=o(l).userInfo.referrerInfo)!=null&&n.referrer_phone?(f(),g("div",Xs,[t(i,{class:"info-icon"},{default:a(()=>[t(o(q))]),_:1}),e[20]||(e[20]=s("span",{class:"info-label"},"手机号：",-1)),s("span",Js,d(o(l).userInfo.referrerInfo.referrer_phone),1)])):m("",!0),(w=o(l).userInfo.referrerInfo)!=null&&w.referrer_qq?(f(),g("div",Ks,[t(i,{class:"info-icon"},{default:a(()=>[t(o(ls))]),_:1}),e[21]||(e[21]=s("span",{class:"info-label"},"QQ：",-1)),s("span",Ps,d(o(l).userInfo.referrerInfo.referrer_qq),1)])):m("",!0),(N=o(l).userInfo.referrerInfo)!=null&&N.referrer_wx?(f(),g("div",Ys,[t(i,{class:"info-icon"},{default:a(()=>[t(o(ns))]),_:1}),e[22]||(e[22]=s("span",{class:"info-label"},"微信：",-1)),s("span",Zs,d(o(l).userInfo.referrerInfo.referrer_wx),1)])):m("",!0),!(($=o(l).userInfo.referrerInfo)!=null&&$.referrer_phone)&&!((E=o(l).userInfo.referrerInfo)!=null&&E.referrer_qq)&&!((D=o(l).userInfo.referrerInfo)!=null&&D.referrer_wx)?(f(),g("div",st,[t(i,{class:"empty-icon"},{default:a(()=>[t(o(is))]),_:1}),e[23]||(e[23]=s("span",null,"暂无上级推荐人信息",-1))])):m("",!0)])]}),_:1})]),_:1}),t(c,{xs:24,sm:24,md:12,lg:12,xl:12},{default:a(()=>[t(u,{class:"promotion-card"},{header:a(()=>[s("div",tt,[t(i,{class:"header-icon"},{default:a(()=>[t(o(ds))]),_:1}),e[24]||(e[24]=s("span",null,"我的推广",-1))])]),default:a(()=>[s("div",et,[t(p,{gutter:16},{default:a(()=>[t(c,{xs:12,sm:12,md:12,lg:12,xl:12},{default:a(()=>{var n;return[s("div",at,[s("div",ot,d(((n=o(l).userInfo.myUserInfo)==null?void 0:n.today_num)||0),1),e[25]||(e[25]=s("div",{class:"stat-label"},"今天注册数",-1))])]}),_:1}),t(c,{xs:12,sm:12,md:12,lg:12,xl:12},{default:a(()=>{var n;return[s("div",lt,[s("div",nt,d(((n=o(l).userInfo.myUserInfo)==null?void 0:n.month_num)||0),1),e[26]||(e[26]=s("div",{class:"stat-label"},"本月注册数",-1))])]}),_:1})]),_:1}),t(p,{gutter:16,style:{"margin-top":"15px"}},{default:a(()=>[t(c,{xs:12,sm:12,md:12,lg:12,xl:12},{default:a(()=>{var n;return[s("div",it,[s("div",dt,d(((n=o(l).userInfo.myUserInfo)==null?void 0:n.year_num)||0),1),e[27]||(e[27]=s("div",{class:"stat-label"},"本年注册数",-1))])]}),_:1}),t(c,{xs:12,sm:12,md:12,lg:12,xl:12},{default:a(()=>{var n;return[s("div",rt,[s("div",ct,d(((n=o(l).userInfo.myUserInfo)==null?void 0:n.total_num)||0),1),e[28]||(e[28]=s("div",{class:"stat-label"},"总注册数",-1))])]}),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),t(S,{modelValue:I.value,"onUpdate:modelValue":e[6]||(e[6]=n=>I.value=n),title:"系统公告",width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,center:""},{footer:a(()=>[s("div",gt,[o(l).noticeList.length>1?(f(),g("div",xt,[t(h,{disabled:_.value===0,onClick:T,size:"small"},{default:a(()=>e[30]||(e[30]=[x(" 上一条 ")])),_:1,__:[30]},8,["disabled"]),s("span",It,d(_.value+1)+" / "+d(o(l).noticeList.length),1),t(h,{disabled:_.value===o(l).noticeList.length-1,onClick:F,size:"small"},{default:a(()=>e[31]||(e[31]=[x(" 下一条 ")])),_:1,__:[31]},8,["disabled"])])):m("",!0),t(h,{type:"primary",onClick:V},{default:a(()=>[t(i,null,{default:a(()=>[t(o(rs))]),_:1}),e[32]||(e[32]=x(" 我知道了 "))]),_:1,__:[32]})])]),default:a(()=>[v.value?(f(),g("div",ut,[s("div",_t,[s("h3",ft,d(v.value.title),1),s("div",mt,[t(i,null,{default:a(()=>[t(o(U))]),_:1}),x(" "+d(v.value.create_time),1)])]),s("div",vt,[s("p",pt,d(v.value.content),1)])])):m("",!0)]),_:1},8,["modelValue"])])}}},Lt=j(ht,[["__scopeId","data-v-310caff2"]]);export{Lt as default};
