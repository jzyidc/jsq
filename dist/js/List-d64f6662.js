import{_ as mt}from"./_plugin-vue_export-helper-f918498f.js";/* empty css                  *//* empty css                       *//* empty css                   *//* empty css                *//* empty css                   *//* empty css                *//* empty css               *//* empty css                     *//* empty css                 *//* empty css                        *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                         *//* empty css                     */import{a as pt,$ as D,r as V,o as ft,c as P,d as T,i as t,w as a,be as gt,E as d,aI as _t,aA as vt,g as l,j as u,bf as bt,l as g,F as U,h as F,k as E,Q as yt,aQ as he,aS as we,D as w,bg as Ne,am as ee,J as ht,ah as H,G as Z,R as Q,P as Pe,H as te,y as ae,b7 as le,O as oe,bh as wt,f as Nt,af as Pt,aR as Ct,bi as Ce,aC as $t,ag as $e,aT as Ie,aj as se,v as xe,ar as O,bj as Ge,b5 as ke,bk as ne,b6 as Ae,bl as It,bm as xt,p as Gt,q as kt,aU as At,aV as St,a3 as Vt,a2 as zt,a1 as Tt,bn as Lt,aX as Et,t as Rt,Y as Mt,Z as Dt,s as Ot,aY as Bt,aZ as Ut,aN as Ft,bo as qt,bp as jt,bc as Qt,b0 as Yt,bq as Ht}from"./index-77fd0c89.js";import{c as Zt}from"./finance-a7731777.js";const Jt={class:"business-list"},Xt={class:"card-header"},Kt={class:"search-area"},Wt={class:"batch-actions"},ea={class:"batch-buttons"},ta={class:"proxy-info"},aa={class:"proxy-port"},la={class:"pagination-wrapper"},oa={class:"dialog-header"},sa={class:"dialog-content"},na={class:"current-node-section"},ra={class:"section-title"},ia={class:"current-node-info"},da={class:"node-item"},ua={class:"value"},ca={class:"node-item"},ma={class:"value"},pa={class:"node-item"},fa={class:"value"},ga={class:"target-node-section"},_a={class:"section-title"},va={key:0,class:"area-select-tip"},ba={class:"dialog-footer"},ya={class:"dialog-header"},ha={class:"dialog-content"},wa={class:"current-node-section"},Na={class:"section-title"},Pa={class:"current-node-info"},Ca={class:"node-item"},$a={class:"value"},Ia={class:"node-item"},xa={class:"value"},Ga={class:"node-item"},ka={class:"value"},Aa={class:"node-item"},Sa={class:"value expire-time"},Va={class:"renew-section"},za={class:"section-title"},Ta={class:"renew-price-section"},La={class:"section-title"},Ea={class:"renew-price-info"},Ra={key:0,class:"price-value"},Ma={key:1,class:"price-value"},Da={class:"dialog-footer"},Oa={class:"dialog-header"},Ba={class:"dialog-content"},Ua={class:"copy-info-section"},Fa={class:"section-title"},qa={class:"copy-info"},ja={class:"info-item"},Qa={class:"value"},Ya={class:"format-section"},Ha={class:"section-title"},Za={class:"dialog-footer"},Ja={class:"dialog-header"},Xa={class:"dialog-content"},Ka={class:"export-info-section"},Wa={class:"section-title"},el={class:"export-info"},tl={class:"info-item"},al={class:"value"},ll={class:"format-section"},ol={class:"section-title"},sl={class:"dialog-footer"},nl={class:"dialog-header"},rl={class:"dialog-content"},il={class:"current-node-section"},dl={class:"section-title"},ul={class:"current-node-info"},cl={class:"node-item"},ml={class:"value"},pl={class:"node-item"},fl={class:"value"},gl={class:"node-item"},_l={class:"value"},vl={class:"node-item"},bl={class:"value expire-time"},yl={class:"order-log-section"},hl={class:"section-title"},wl={class:"pagination-wrapper",style:{"margin-top":"16px"}},Nl={class:"dialog-footer"},Pl={__name:"List",setup(Cl){const Se=pt(),Ve=[{Province:"全国"},{Province:"北京市"},{Province:"天津市"},{Province:"河北省"},{Province:"山西省"},{Province:"内蒙古自治区"},{Province:"辽宁省"},{Province:"吉林省"},{Province:"黑龙江省"},{Province:"上海市"},{Province:"江苏省"},{Province:"浙江省"},{Province:"安徽省"},{Province:"福建省"},{Province:"江西省"},{Province:"山东省"},{Province:"河南省"},{Province:"湖北省"},{Province:"湖南省"},{Province:"广东省"},{Province:"广西壮族自治区"},{Province:"海南省"},{Province:"重庆市"},{Province:"四川省"},{Province:"贵州省"},{Province:"云南省"},{Province:"西藏自治区"},{Province:"陕西省"},{Province:"甘肃省"},{Province:"青海省"},{Province:"宁夏回族自治区"},{Province:"新疆维吾尔自治区"},{Province:"台湾省"},{Province:"香港特别行政区"},{Province:"澳门特别行政区"}],y=D({game:"",area:"",group:"",screenNode:"",screenEndTime:""}),Y=V([]),J=V(!1),re=V(),f=V([]),ie=V([]),de=V([]),ue=V([]),C=D({page:1,size:20,total:0}),n=D({visible:!1,loading:!1,currentNode:null,form:{GameName:"",Province:"",AreaName:[]},gameOptions:[],provinceOptions:[],areaOptions:[],rules:{GameName:[{required:!0,message:"请选择目标游戏",trigger:"change"}],Province:[{required:!0,message:"请选择省份",trigger:"change"}],AreaName:[{required:!0,type:"array",min:1,message:"请至少选择一个目标地区",trigger:"change"}]}}),ce=V(),p=D({visible:!1,loading:!1,currentNode:null,form:{renewTime:""},rules:{renewTime:[{required:!0,message:"请选择续费时长",trigger:"change"}]},price:null,priceLoading:!1}),me=V(),I=D({visible:!1,loading:!1,form:{format:"laoyu"},rules:{format:[{required:!0,message:"请选择复制格式",trigger:"change"}]}}),pe=V(),$=D({visible:!1,loading:!1,form:{format:"laoyu"},rules:{format:[{required:!0,message:"请选择导出格式",trigger:"change"}]}}),fe=V(),b=D({visible:!1,loading:!1,currentNode:null,tableData:[],pagination:{page:1,size:20,total:0}}),ze=s=>s<=0?"danger":s<=7?"warning":"success",Te=()=>{C.page=1,G()},Le=()=>{y.game="",y.area="",y.group="",y.screenNode="",y.screenEndTime="",C.page=1,G()},Ee=()=>{Se.push("/user/products/routes")},Re=s=>{p.currentNode=s,p.form.renewTime="",p.price=null,p.visible=!0},Me=async s=>{try{n.currentNode=s,n.form.GameName="",n.form.Province="",n.form.AreaName=[],n.provinceOptions=[],n.areaOptions=[];const e=await ke();if(e.Code===1e3&&e.List)n.gameOptions=e.List||[],s.Game&&(n.form.GameName=s.Game,X(s.Game));else{d.error("获取游戏列表失败");return}n.visible=!0}catch(e){console.error("打开切换节点对话框失败:",e),d.error("打开切换节点对话框失败")}},De=s=>{O.prompt("请输入新的分组（4位数字）","设置分组",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^\d{4}$/,inputErrorMessage:"分组必须是4位数字",inputValue:s.Group||""}).then(async({value:e})=>{try{const o=await Ge({Id:[s.Id],Group:e});o.Code===1e3?(d.success("分组设置成功"),G()):d.error(o.Msg||"分组设置失败")}catch(o){console.error("设置分组失败:",o),d.error("设置分组失败")}}).catch(()=>{})},Oe=s=>{O.prompt("请输入新密码","设置密码",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"password",inputPlaceholder:"请输入新密码",inputValidator:e=>e?e.length<6?"密码长度不能少于6位":!0:"密码不能为空"}).then(async({value:e})=>{try{const o=await Ht({Id:[s.Id],Password:e});o.Code===1e3?(d.success("密码设置成功"),G()):d.error(o.Msg||"密码设置失败")}catch(o){console.error("设置密码失败:",o),d.error("设置密码失败")}}).catch(()=>{})},Be=async s=>{try{await O.confirm(`确定要切换节点吗？

当前节点信息：
游戏：${s.Game}
区域：${s.Area}

将使用当前参数进行切换`,"快速切换节点",{confirmButtonText:"确定切换",cancelButtonText:"取消",type:"warning"});const e=await ne({Id:[s.Id],GameName:s.Game,InfoList:[{area:s.Area,quantity:"1"}]});if(e.Code===1e3)d.success("节点切换成功"),G();else{const o=e.Msg||"节点切换失败";e.Code===-1&&o.includes("库存不足")?d.error(`切换失败：${s.Game}/${s.Area} 库存不足，无法切换`):d.error(o)}}catch(e){e!=="cancel"&&(console.error("快速切换节点失败:",e),d.error("快速切换节点失败"))}},Ue=(s,e)=>{switch(s){case"switch":Me(e);break;case"quickSwitch":Be(e);break;case"setGroup":De(e);break;case"setPassword":Oe(e);break;case"orderLog":ot(e);break;default:console.warn("未知的操作命令:",s)}},Fe=()=>{if(f.value.length===0){d.warning("请先选择要设置分组的节点");return}O.prompt("请输入新的分组（4位数字）",`批量设置分组 (${f.value.length}个节点)`,{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^\d{4}$/,inputErrorMessage:"分组必须是4位数字"}).then(async({value:s})=>{try{const e=f.value.map(i=>i.Id),o=await Ge({Id:e,Group:s});o.Code===1e3?(d.success(`成功设置${f.value.length}个节点的分组`),R(),G()):d.error(o.Msg||"批量设置分组失败")}catch(e){console.error("批量设置分组失败:",e),d.error("批量设置分组失败")}}).catch(()=>{})},qe=()=>{if(f.value.length===0){d.warning("请先选择要续费的节点");return}O.confirm(`确定要为选中的 ${f.value.length} 个节点进行批量续费吗？`,"批量续费确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{p.currentNode={Game:"批量续费",Area:`${f.value.length}个节点`,IpAddress:"多个IP",EndTime:"不同到期时间"},p.form.renewTime="",p.price=null,p.visible=!0}).catch(()=>{})},je=()=>{if(f.value.length===0){d.warning("请先选择要复制的节点");return}I.form.format="wanan",I.visible=!0},Qe=()=>{if(f.value.length===0){d.warning("请先选择要导出的节点");return}$.form.format="wanan",$.visible=!0},Ye=async()=>{if(f.value.length===0){d.warning("请先选择要切换的节点");return}const s=[...new Set(f.value.map(e=>e.Game))];if(s.length>1){d.error(`批量切换节点失败：选中的节点游戏不一致，包含 ${s.join("、")} 等游戏，请选择相同游戏的节点进行批量切换`);return}try{const e=f.value[0].Game;n.currentNode={Game:"批量切换",Area:`${f.value.length}个节点`,IpAddress:"多个IP"},n.form.GameName="",n.form.Province="",n.form.AreaName=[],n.provinceOptions=[],n.areaOptions=[];const o=await ke();if(o.Code===1e3&&o.List)n.gameOptions=o.List||[],e&&(n.form.GameName=e,X(e));else{d.error("获取游戏列表失败");return}n.visible=!0}catch(e){console.error("打开批量切换节点对话框失败:",e),d.error("打开批量切换节点对话框失败")}},He=async()=>{if(f.value.length===0){d.warning("请先选择要切换IP的节点");return}const s=[...new Set(f.value.map(e=>e.Game))];if(s.length>1){d.error(`批量切换IP失败：选中的节点游戏不一致，包含 ${s.join("、")} 等游戏，请选择相同游戏的节点进行批量切换`);return}try{await O.confirm(`确定要为选中的 ${f.value.length} 个节点进行批量切换IP吗？

注意：切换IP将使用当前节点的游戏和区域参数进行切换`,"批量切换IP确认",{confirmButtonText:"确定切换",cancelButtonText:"取消",type:"warning"});const e={};f.value.forEach(c=>{const m=`${c.Game}-${c.Area}`;e[m]||(e[m]={game:c.Game,area:c.Area,province:c.Province||"",nodeIds:[]}),e[m].nodeIds.push(c.Id)});let o=0,i=0;const _=[];for(const c of Object.values(e))try{const m=await ne({Id:c.nodeIds,GameName:c.game,InfoList:[{area:c.area,quantity:c.nodeIds.length.toString()}]});if(m.Code===1e3)o+=c.nodeIds.length;else{i+=c.nodeIds.length;const N=m.Msg||"切换失败";console.error(`切换失败 - ${c.game}/${c.area}:`,N),m.Code===-1&&N.includes("库存不足")?_.push(`${c.game}/${c.area}: 库存不足，无法切换`):_.push(`${c.game}/${c.area}: ${N}`)}}catch(m){i+=c.nodeIds.length,console.error(`切换异常 - ${c.game}/${c.area}:`,m),_.push(`${c.game}/${c.area}: 网络异常`)}if(o>0&&i===0)d.success(`成功切换${o}个节点的IP`);else if(o>0&&i>0){const c=_.length>0?`
详细信息：
${_.join(`
`)}`:"";d.warning(`成功切换${o}个节点，${i}个节点切换失败${c}`)}else{const c=_.length>0?`
详细信息：
${_.join(`
`)}`:"";d.error(`批量切换IP失败${c}`)}R(),G()}catch(e){e!=="cancel"&&(console.error("批量切换IP失败:",e),d.error("批量切换IP失败"))}},Ze=s=>{f.value=s},R=()=>{var s;(s=re.value)==null||s.clearSelection(),f.value=[]},Je=s=>{C.size=s,C.page=1,G()},Xe=s=>{C.page=s,G()},G=async()=>{J.value=!0;try{const s={page:C.page,pageSize:C.size};y.game&&(s.game=y.game),y.area&&(s.area=y.area),y.group&&(s.group=y.group),y.screenNode&&(s.ScreenNode=y.screenNode),y.screenEndTime&&(s.ScreenEndTime=y.screenEndTime);const e=await gt(s);e.Code===1e3?(Y.value=e.List||[],C.total=e.RowCount||0,e.ScreenGameList&&(ie.value=e.ScreenGameList),e.ScreenAreaList&&(de.value=e.ScreenAreaList),e.ScreenGroupList&&(ue.value=e.ScreenGroupList)):(d.error(e.Msg||"获取数据失败"),Y.value=[],C.total=0)}catch(s){console.error("获取业务列表失败:",s),d.error("获取数据失败"),Y.value=[],C.total=0}finally{J.value=!1}},X=s=>{if(n.form.Province="",n.form.AreaName=[],n.areaOptions=[],!s){n.provinceOptions=[];return}n.provinceOptions=Ve},K=()=>n.currentNode&&n.currentNode.Game==="批量切换"?f.value.length:1,Ke=async s=>{try{if(n.form.AreaName=[],n.areaOptions=[],!s||!n.form.GameName)return;if(s==="全国"){const e=await Ae({GameName:n.form.GameName});e.Code===1e3?e.List&&e.List.length>0?n.areaOptions=e.List:(n.areaOptions=[],d.warning("全国范围内暂无可用节点")):d.error(e.Msg||"获取全国地区列表失败")}else{const e=await Ae({GameName:n.form.GameName,ScreenProvince:s});e.Code===1e3?e.List&&e.List.length>0?n.areaOptions=e.List:(n.areaOptions=[],d.warning("该省份暂无可用节点")):d.error(e.Msg||"获取地区列表失败")}}catch(e){console.error("获取地区列表失败:",e),d.error("获取地区列表失败")}},We=async()=>{var e;if(p.price=null,!p.form.renewTime)return;p.priceLoading=!0;let s;if(p.currentNode&&p.currentNode.Game==="批量续费")s=f.value.map(o=>o.Id);else if(p.currentNode&&p.currentNode.Id)s=[p.currentNode.Id];else{p.priceLoading=!1;return}try{const o=await It({Id:s,RenewTime:p.form.renewTime});o.Code===1e3&&o.List?p.currentNode.Game==="批量续费"?p.price=o.List.reduce((i,_)=>i+(_.Price||0),0):p.price=((e=o.List[0])==null?void 0:e.Price)??null:p.price=null}catch{p.price=null}finally{p.priceLoading=!1}},et=async()=>{var s;try{await((s=ce.value)==null?void 0:s.validate());const e=n.currentNode.Game==="批量切换",o=e?f.value.length:1;if(e&&Array.isArray(n.form.AreaName)){const m=n.form.AreaName.length;if(m>o){d.error(`批量切换节点时，选择的地区数量（${m}个）不能大于节点数量（${o}个）`),n.loading=!1;return}if(m===0){d.error("请至少选择一个地区"),n.loading=!1;return}}await O.confirm(`切换节点后，系统将根据新节点的单价重新计算并调整到期时间，确定要继续切换${e?`这${o}个节点`:""}吗？`,"切换节点提醒",{confirmButtonText:"确定切换",cancelButtonText:"取消",type:"warning"}),n.loading=!0;let i;e?i=f.value.map(m=>m.Id):i=[n.currentNode.Id];let _;if(Array.isArray(n.form.AreaName)&&n.form.AreaName.length>0){const m=n.form.AreaName;if(e){const N=Math.floor(i.length/m.length),k=i.length%m.length;_=m.map((A,v)=>{const B=N+(v<k?1:0);return{area:A,quantity:B.toString()}})}else{const N=Math.ceil(i.length/m.length);_=m.map((k,A)=>{const v=A*N,M=Math.min(v+N,i.length)-v;return{area:k,quantity:M.toString()}})}}else _=[{area:n.form.AreaName,quantity:i.length.toString()}];const c=await ne({Id:i,GameName:n.form.GameName,InfoList:_});if(c.Code===1e3){const m=e?`成功切换${o}个节点`:"节点切换成功";d.success(m),n.visible=!1,e&&R(),G()}else{const m=c.Msg||"节点切换失败";c.Code===-1&&m.includes("库存不足")?e?d.error("批量切换失败：库存不足，无法切换选中的节点"):d.error(`切换失败：${n.form.GameName}/${n.form.AreaName} 库存不足，无法切换`):d.error(m)}}catch(e){e!==!1&&(console.error("切换节点失败:",e),d.error("切换节点失败"))}finally{n.loading=!1}},tt=async()=>{var s;try{await((s=me.value)==null?void 0:s.validate()),p.loading=!0;let e,o;p.currentNode.Game==="批量续费"?(e=f.value.map(_=>_.Id),o=`成功续费${f.value.length}个节点`):(e=[p.currentNode.Id],o="节点续费成功");const i=await xt({Id:e,RenewTime:p.form.renewTime});i.Code===1e3?(d.success(o),p.visible=!1,p.currentNode.Game==="批量续费"&&R(),G()):d.error(i.Msg||"节点续费失败")}catch(e){e!==!1&&(console.error("续费失败:",e),d.error("续费失败"))}finally{p.loading=!1}},at=async()=>{var s;try{await((s=pe.value)==null?void 0:s.validate()),I.loading=!0;const e=ge(f.value,I.form.format);try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(e);else{const o=document.createElement("textarea");o.value=e,o.style.position="fixed",o.style.left="-999999px",o.style.top="-999999px",document.body.appendChild(o),o.focus(),o.select(),document.execCommand("copy"),document.body.removeChild(o)}d.success(`成功复制${f.value.length}个节点信息到剪贴板`),I.visible=!1,R()}catch(o){console.error("剪贴板操作失败:",o),d.error("复制到剪贴板失败，请检查浏览器权限或手动复制")}}catch(e){e!==!1&&(console.error("复制失败:",e),d.error("操作失败"))}finally{I.loading=!1}},lt=async()=>{var s;try{await((s=fe.value)==null?void 0:s.validate()),$.loading=!0;const e=ge(f.value,$.form.format),o=new Blob([e],{type:"text/plain;charset=utf-8"}),i=window.URL.createObjectURL(o),_=document.createElement("a");_.href=i;const c=new Date,m=c.getFullYear()+String(c.getMonth()+1).padStart(2,"0")+String(c.getDate()).padStart(2,"0")+"_"+String(c.getHours()).padStart(2,"0")+String(c.getMinutes()).padStart(2,"0")+String(c.getSeconds()).padStart(2,"0");_.download=`节点导出_${$.form.format}_${m}.txt`,document.body.appendChild(_),_.click(),document.body.removeChild(_),window.URL.revokeObjectURL(i),d.success(`成功导出${f.value.length}个节点信息到文件`),$.visible=!1,R()}catch(e){e!==!1&&(console.error("导出失败:",e),d.error("导出文件失败"))}finally{$.loading=!1}},ge=(s,e)=>s.map(i=>{const _=i.Connect_IpAddress||i.IpAddress||"",c=i.Port||"",m=i.User||"",N=i.Pass||"",k=i.Area||"";i.StartTime;const A=i.EndTime||"",v=`${_}:${c}`;switch(e){case"laoyu":return`${v}/${m}/${N}/${A}`;case"laoyuRegion":return`${v}/${m}/${N}/${k}/${A}`;case"wanan":return`${v}|${m}|${N}|${A}`;case"youmi":return`${v}|${m}|${N}|${A}`;case"youmiRegion":return`${v}|${m}|${N}|${k}|${A}`;default:return`${v}/${m}/${N}/${A}`}}).join(`
`),ot=s=>{b.currentNode=s,b.pagination.page=1,b.visible=!0,W()},W=async()=>{b.loading=!0;try{const s={screenId:b.currentNode.Id,page:b.pagination.page,pageSize:b.pagination.size},e=await Zt(s);e.Code===1e3?(b.tableData=e.List||[],b.pagination.total=e.RowCount||0):(d.error(e.Msg||"获取订单日志失败"),b.tableData=[],b.pagination.total=0)}catch(s){console.error("获取订单日志失败:",s),d.error("获取订单日志失败"),b.tableData=[],b.pagination.total=0}finally{b.loading=!1}},st=s=>{b.pagination.page=s,W()},nt=s=>{b.pagination.size=s,b.pagination.page=1,W()},rt=s=>{const e=parseFloat(s);return e>0?"success":e<0?"danger":"info"};return ft(()=>{G()}),(s,e)=>{const o=Gt,i=kt,_=At,c=St,m=Vt,N=zt,k=Tt,A=Lt,v=Et,B=Rt,M=Mt,it=Dt,dt=Ot,_e=Bt,ve=Ut,ut=_t,q=Ft,ct=qt,j=vt,z=jt,be=Qt,ye=Yt;return P(),T("div",Jt,[t(ut,{class:"page-card"},{header:a(()=>[l("div",Xt,[e[26]||(e[26]=l("span",null,"业务列表",-1)),t(i,{type:"primary",onClick:Ee},{default:a(()=>[t(o,null,{default:a(()=>[t(u(bt))]),_:1}),e[25]||(e[25]=g(" 新增业务 "))]),_:1,__:[25]})])]),default:a(()=>[l("div",Kt,[t(k,{model:y,inline:""},{default:a(()=>[t(m,{label:"游戏"},{default:a(()=>[t(c,{modelValue:y.game,"onUpdate:modelValue":e[0]||(e[0]=r=>y.game=r),placeholder:"请选择游戏",clearable:"",style:{width:"200px"}},{default:a(()=>[t(_,{label:"全部",value:""}),(P(!0),T(U,null,F(ie.value,r=>(P(),E(_,{key:r,label:r,value:r},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(m,{label:"区域"},{default:a(()=>[t(c,{modelValue:y.area,"onUpdate:modelValue":e[1]||(e[1]=r=>y.area=r),placeholder:"请选择区域",clearable:"",style:{width:"200px"}},{default:a(()=>[t(_,{label:"全部",value:""}),(P(!0),T(U,null,F(de.value,r=>(P(),E(_,{key:r,label:r,value:r},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(m,{label:"分组"},{default:a(()=>[t(c,{modelValue:y.group,"onUpdate:modelValue":e[2]||(e[2]=r=>y.group=r),placeholder:"请选择分组",clearable:"",style:{width:"120px"}},{default:a(()=>[t(_,{label:"全部",value:""}),(P(!0),T(U,null,F(ue.value,r=>(P(),E(_,{key:r,label:r,value:r},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(m,{label:"IP/链接"},{default:a(()=>[t(N,{modelValue:y.screenNode,"onUpdate:modelValue":e[3]||(e[3]=r=>y.screenNode=r),placeholder:"请输入IP或链接地址",clearable:"",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(m,{label:"过期时间"},{default:a(()=>[t(N,{modelValue:y.screenEndTime,"onUpdate:modelValue":e[4]||(e[4]=r=>y.screenEndTime=r),placeholder:"请输入天数",clearable:"",style:{width:"120px"},type:"number",min:"0"},null,8,["modelValue"])]),_:1}),t(m,null,{default:a(()=>[t(i,{type:"primary",onClick:Te},{default:a(()=>[t(o,null,{default:a(()=>[t(u(yt))]),_:1}),e[27]||(e[27]=g(" 搜索 "))]),_:1,__:[27]}),t(i,{onClick:Le},{default:a(()=>[t(o,null,{default:a(()=>[t(u(he))]),_:1}),e[28]||(e[28]=g(" 重置 "))]),_:1,__:[28]})]),_:1})]),_:1},8,["model"])]),l("div",Wt,[t(A,{title:f.value.length>0?`已选择 ${f.value.length} 个节点`:"请选择节点进行批量操作",type:f.value.length>0?"info":"warning","show-icon":"",closable:!1},{default:a(()=>[l("div",ea,[t(i,{type:"primary",size:"small",disabled:f.value.length===0,onClick:Fe},{default:a(()=>e[29]||(e[29]=[g(" 批量设置分组 ")])),_:1,__:[29]},8,["disabled"]),t(i,{type:"warning",size:"small",disabled:f.value.length===0,onClick:qe},{default:a(()=>e[30]||(e[30]=[g(" 批量续费 ")])),_:1,__:[30]},8,["disabled"]),t(i,{type:"success",size:"small",disabled:f.value.length===0,onClick:je},{default:a(()=>e[31]||(e[31]=[g(" 批量复制 ")])),_:1,__:[31]},8,["disabled"]),t(i,{type:"info",size:"small",disabled:f.value.length===0,onClick:Qe},{default:a(()=>e[32]||(e[32]=[g(" 批量导出 ")])),_:1,__:[32]},8,["disabled"]),t(i,{type:"primary",size:"small",disabled:f.value.length===0,onClick:Ye},{default:a(()=>e[33]||(e[33]=[g(" 批量切换节点 ")])),_:1,__:[33]},8,["disabled"]),t(i,{type:"warning",size:"small",disabled:f.value.length===0,onClick:He},{default:a(()=>e[34]||(e[34]=[g(" 批量切换IP ")])),_:1,__:[34]},8,["disabled"]),t(i,{size:"small",disabled:f.value.length===0,onClick:R},{default:a(()=>e[35]||(e[35]=[g(" 取消选择 ")])),_:1,__:[35]},8,["disabled"])])]),_:1},8,["title","type"])]),we((P(),E(_e,{ref_key:"tableRef",ref:re,data:Y.value,stripe:"",style:{width:"100%"},onSelectionChange:Ze},{default:a(()=>[t(v,{type:"selection",width:"45"}),t(v,{prop:"Id",label:"ID",width:"100"}),t(v,{prop:"Game",label:"游戏","min-width":"180"}),t(v,{prop:"Area",label:"区域",width:"140"}),t(v,{prop:"Group",label:"分组",width:"70"}),t(v,{prop:"Isp",label:"线路",width:"60"}),t(v,{prop:"IpAddress",label:"节点IP",width:"125"}),t(v,{label:"代理信息",width:"180"},{default:a(({row:r})=>[l("div",ta,[l("div",null,"用户: "+w(r.User),1),l("div",null,"密码: "+w(r.Pass),1),l("div",null,"链接: "+w(r.Connect_IpAddress),1),l("div",aa,"端口: "+w(r.Port),1)])]),_:1}),t(v,{prop:"StartTime",label:"开始时间",width:"120"}),t(v,{prop:"EndTime",label:"到期时间",width:"120"}),t(v,{label:"剩余天数",width:"100"},{default:a(({row:r})=>[t(B,{type:ze(r.EndDays),size:"small"},{default:a(()=>[g(w(Math.floor(r.EndDays))+"天 ",1)]),_:2},1032,["type"])]),_:1}),t(v,{label:"操作",width:"150",fixed:"right"},{default:a(({row:r})=>[t(i,{type:"success",size:"small",onClick:S=>Re(r),style:{"margin-right":"8px"}},{default:a(()=>e[36]||(e[36]=[g(" 续费 ")])),_:2,__:[36]},1032,["onClick"]),t(dt,{trigger:"click",onCommand:S=>Ue(S,r)},{dropdown:a(()=>[t(it,null,{default:a(()=>[t(M,{command:"switch"},{default:a(()=>[t(o,null,{default:a(()=>[t(u(Ne))]),_:1}),e[38]||(e[38]=g(" 切换节点 "))]),_:1,__:[38]}),t(M,{command:"quickSwitch"},{default:a(()=>[t(o,null,{default:a(()=>[t(u(he))]),_:1}),e[39]||(e[39]=g(" 切换IP "))]),_:1,__:[39]}),t(M,{command:"setGroup"},{default:a(()=>[t(o,null,{default:a(()=>[t(u(ee))]),_:1}),e[40]||(e[40]=g(" 设置分组 "))]),_:1,__:[40]}),t(M,{command:"setPassword"},{default:a(()=>[t(o,null,{default:a(()=>[t(u(ht))]),_:1}),e[41]||(e[41]=g(" 设置密码 "))]),_:1,__:[41]}),t(M,{command:"orderLog"},{default:a(()=>[t(o,null,{default:a(()=>[t(u(H))]),_:1}),e[42]||(e[42]=g(" 订单日志 "))]),_:1,__:[42]})]),_:1})]),default:a(()=>[t(i,{size:"small",type:"info"},{default:a(()=>[e[37]||(e[37]=g(" 更多 ")),t(o,{class:"el-icon--right"},{default:a(()=>[t(u(Z))]),_:1})]),_:1,__:[37]})]),_:2},1032,["onCommand"])]),_:1})]),_:1},8,["data"])),[[ye,J.value]]),l("div",la,[t(ve,{"current-page":C.page,"onUpdate:currentPage":e[5]||(e[5]=r=>C.page=r),"page-size":C.size,"onUpdate:pageSize":e[6]||(e[6]=r=>C.size=r),"page-sizes":[10,20,50,100],total:C.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Je,onCurrentChange:Xe},null,8,["current-page","page-size","total"])])]),_:1}),t(j,{modelValue:n.visible,"onUpdate:modelValue":e[11]||(e[11]=r=>n.visible=r),width:"580px","close-on-click-modal":!1,class:"switch-node-dialog","align-center":""},{header:a(()=>[l("div",oa,[t(o,{class:"dialog-icon"},{default:a(()=>[t(u(Ne))]),_:1}),e[43]||(e[43]=l("span",{class:"dialog-title"},"切换节点",-1))])]),footer:a(()=>[l("div",ba,[t(i,{size:"large",onClick:e[10]||(e[10]=r=>n.visible=!1)},{default:a(()=>[t(o,null,{default:a(()=>[t(u(Q))]),_:1}),e[49]||(e[49]=g(" 取消 "))]),_:1,__:[49]}),t(i,{type:"primary",size:"large",loading:n.loading,onClick:et},{default:a(()=>[t(o,null,{default:a(()=>[t(u(Pe))]),_:1}),e[50]||(e[50]=g(" 确认切换 "))]),_:1,__:[50]},8,["loading"])])]),default:a(()=>[l("div",sa,[t(k,{ref_key:"switchFormRef",ref:ce,model:n.form,rules:n.rules,"label-width":"90px",class:"switch-form"},{default:a(()=>{var r,S,L;return[l("div",na,[l("h4",ra,[t(o,null,{default:a(()=>[t(u(te))]),_:1}),e[44]||(e[44]=g(" 当前节点信息 "))]),l("div",ia,[l("div",da,[t(o,null,{default:a(()=>[t(u(ae))]),_:1}),e[45]||(e[45]=l("span",{class:"label"},"游戏:",-1)),l("span",ua,w((r=n.currentNode)==null?void 0:r.Game),1)]),l("div",ca,[t(o,null,{default:a(()=>[t(u(le))]),_:1}),e[46]||(e[46]=l("span",{class:"label"},"区域:",-1)),l("span",ma,w((S=n.currentNode)==null?void 0:S.Area),1)]),l("div",pa,[t(o,null,{default:a(()=>[t(u(oe))]),_:1}),e[47]||(e[47]=l("span",{class:"label"},"IP:",-1)),l("span",fa,w((L=n.currentNode)==null?void 0:L.IpAddress),1)])])]),t(q,{class:"section-divider copy-divider"},{default:a(()=>[t(o,null,{default:a(()=>[t(u(Z))]),_:1})]),_:1}),l("div",ga,[l("h4",_a,[t(o,null,{default:a(()=>[t(u(wt))]),_:1}),e[48]||(e[48]=g(" 目标节点选择 "))]),t(m,{label:"目标游戏",prop:"GameName"},{default:a(()=>[t(c,{modelValue:n.form.GameName,"onUpdate:modelValue":e[7]||(e[7]=h=>n.form.GameName=h),placeholder:"请选择游戏",style:{width:"100%"},size:"large",onChange:X},{default:a(()=>[(P(!0),T(U,null,F(n.gameOptions,h=>(P(),E(_,{key:h.Game,label:h.Game,value:h.Game},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(m,{label:"目标省份",prop:"Province"},{default:a(()=>[t(c,{modelValue:n.form.Province,"onUpdate:modelValue":e[8]||(e[8]=h=>n.form.Province=h),placeholder:"请选择省份",style:{width:"100%"},size:"large",disabled:!n.form.GameName,onChange:Ke},{default:a(()=>[(P(!0),T(U,null,F(n.provinceOptions,h=>(P(),E(_,{key:h.Province,label:h.Province,value:h.Province},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1}),t(m,{label:"目标地区",prop:"AreaName"},{default:a(()=>[t(c,{modelValue:n.form.AreaName,"onUpdate:modelValue":e[9]||(e[9]=h=>n.form.AreaName=h),placeholder:n.currentNode&&n.currentNode.Game==="批量切换"?`请选择地区（最多${K()}个）`:"请选择地区（可多选）",style:{width:"100%"},size:"large",multiple:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":3,disabled:!n.form.Province,"multiple-limit":K()},{default:a(()=>[(P(!0),T(U,null,F(n.areaOptions,h=>(P(),E(_,{key:h.Area,label:`${h.Area} (${h.Count>99?"99+":h.Count}个空闲)`,value:h.Area},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","disabled","multiple-limit"]),n.currentNode&&n.currentNode.Game==="批量切换"?(P(),T("div",va,[t(ct,{size:"small",type:"info"},{default:a(()=>[g(" 可选择 1-"+w(K())+" 个地区，节点将自动分配到选中的地区 ",1)]),_:1})])):Nt("",!0)]),_:1})])]}),_:1},8,["model","rules"])])]),_:1},8,["modelValue"]),t(j,{modelValue:p.visible,"onUpdate:modelValue":e[14]||(e[14]=r=>p.visible=r),width:"520px","close-on-click-modal":!1,class:"renew-dialog","align-center":""},{header:a(()=>[l("div",ya,[t(o,{class:"dialog-icon"},{default:a(()=>[t(u(Pt))]),_:1}),e[51]||(e[51]=l("span",{class:"dialog-title"},"节点续费",-1))])]),footer:a(()=>[l("div",Da,[t(i,{size:"large",onClick:e[13]||(e[13]=r=>p.visible=!1)},{default:a(()=>[t(o,null,{default:a(()=>[t(u(Q))]),_:1}),e[66]||(e[66]=g(" 取消 "))]),_:1,__:[66]}),t(i,{type:"primary",size:"large",loading:p.loading,onClick:tt},{default:a(()=>[t(o,null,{default:a(()=>[t(u(Pe))]),_:1}),e[67]||(e[67]=g(" 确认续费 "))]),_:1,__:[67]},8,["loading"])])]),default:a(()=>[l("div",ha,[t(k,{ref_key:"renewFormRef",ref:me,model:p.form,rules:p.rules,"label-width":"90px",class:"renew-form"},{default:a(()=>{var r,S,L,h;return[l("div",wa,[l("h4",Na,[t(o,null,{default:a(()=>[t(u(te))]),_:1}),e[52]||(e[52]=g(" 当前节点信息 "))]),l("div",Pa,[l("div",Ca,[t(o,null,{default:a(()=>[t(u(ae))]),_:1}),e[53]||(e[53]=l("span",{class:"label"},"游戏:",-1)),l("span",$a,w((r=p.currentNode)==null?void 0:r.Game),1)]),l("div",Ia,[t(o,null,{default:a(()=>[t(u(le))]),_:1}),e[54]||(e[54]=l("span",{class:"label"},"区域:",-1)),l("span",xa,w((S=p.currentNode)==null?void 0:S.Area),1)]),l("div",Ga,[t(o,null,{default:a(()=>[t(u(oe))]),_:1}),e[55]||(e[55]=l("span",{class:"label"},"IP:",-1)),l("span",ka,w((L=p.currentNode)==null?void 0:L.IpAddress),1)]),l("div",Aa,[t(o,null,{default:a(()=>[t(u(Ct))]),_:1}),e[56]||(e[56]=l("span",{class:"label"},"到期时间:",-1)),l("span",Sa,w((h=p.currentNode)==null?void 0:h.EndTime),1)])])]),t(q,{class:"section-divider"},{default:a(()=>[t(o,null,{default:a(()=>[t(u(Ce))]),_:1})]),_:1}),l("div",Va,[l("h4",za,[t(o,null,{default:a(()=>[t(u($t))]),_:1}),e[57]||(e[57]=g(" 续费时长选择 "))]),t(m,{label:"续费时长",prop:"renewTime"},{default:a(()=>[t(c,{modelValue:p.form.renewTime,"onUpdate:modelValue":e[12]||(e[12]=x=>p.form.renewTime=x),placeholder:"请选择续费时长",style:{width:"100%"},size:"large",onChange:We},{default:a(()=>[t(_,{label:"一天",value:"day"},{default:a(()=>e[58]||(e[58]=[l("div",{class:"renew-option"},[l("span",{class:"option-label"},"一天"),l("span",{class:"option-desc trial"},"短期体验")],-1)])),_:1,__:[58]}),t(_,{label:"一周",value:"week"},{default:a(()=>e[59]||(e[59]=[l("div",{class:"renew-option"},[l("span",{class:"option-label"},"一周"),l("span",{class:"option-desc temporary"},"临时使用")],-1)])),_:1,__:[59]}),t(_,{label:"一个月",value:"moon"},{default:a(()=>e[60]||(e[60]=[l("div",{class:"renew-option"},[l("span",{class:"option-label"},"一个月"),l("span",{class:"option-desc recommended"},"推荐选择")],-1)])),_:1,__:[60]}),t(_,{label:"三个月",value:"three_moon"},{default:a(()=>e[61]||(e[61]=[l("div",{class:"renew-option"},[l("span",{class:"option-label"},"三个月"),l("span",{class:"option-desc best-value"},"性价比高")],-1)])),_:1,__:[61]}),t(_,{label:"半年",value:"six_moon"},{default:a(()=>e[62]||(e[62]=[l("div",{class:"renew-option"},[l("span",{class:"option-label"},"半年"),l("span",{class:"option-desc long-term"},"长期优惠")],-1)])),_:1,__:[62]}),t(_,{label:"一年",value:"year"},{default:a(()=>e[63]||(e[63]=[l("div",{class:"renew-option"},[l("span",{class:"option-label"},"一年"),l("span",{class:"option-desc best-deal"},"最大优惠")],-1)])),_:1,__:[63]})]),_:1},8,["modelValue"])]),_:1})]),t(q,{class:"section-divider"},{default:a(()=>[t(o,null,{default:a(()=>[t(u($e))]),_:1})]),_:1}),l("div",Ta,[l("h4",La,[t(o,null,{default:a(()=>[t(u($e))]),_:1}),e[64]||(e[64]=g(" 续费价格 "))]),l("div",Ea,[e[65]||(e[65]=l("div",{class:"price-label"},"总价:",-1)),p.priceLoading?(P(),T("div",Ra,"加载中...")):(P(),T("div",Ma,w(p.price||"0.00")+"元",1))])])]}),_:1},8,["model","rules"])])]),_:1},8,["modelValue"]),t(j,{modelValue:I.visible,"onUpdate:modelValue":e[17]||(e[17]=r=>I.visible=r),width:"480px","close-on-click-modal":!1,class:"copy-dialog","align-center":""},{header:a(()=>[l("div",Oa,[t(o,{class:"dialog-icon"},{default:a(()=>[t(u(Ie))]),_:1}),e[68]||(e[68]=l("span",{class:"dialog-title"},"批量复制",-1))])]),footer:a(()=>[l("div",Za,[t(i,{size:"large",onClick:e[16]||(e[16]=r=>I.visible=!1)},{default:a(()=>[t(o,null,{default:a(()=>[t(u(Q))]),_:1}),e[77]||(e[77]=g(" 取消 "))]),_:1,__:[77]}),t(i,{type:"primary",size:"large",loading:I.loading,onClick:at},{default:a(()=>[t(o,null,{default:a(()=>[t(u(Ie))]),_:1}),e[78]||(e[78]=g(" 复制到剪贴板 "))]),_:1,__:[78]},8,["loading"])])]),default:a(()=>[l("div",Ba,[l("div",Ua,[l("h4",Fa,[t(o,null,{default:a(()=>[t(u(se))]),_:1}),e[69]||(e[69]=g(" 复制信息 "))]),l("div",qa,[l("div",ja,[t(o,null,{default:a(()=>[t(u(H))]),_:1}),e[70]||(e[70]=l("span",{class:"label"},"选中节点:",-1)),l("span",Qa,w(f.value.length)+"个",1)])])]),t(q,{class:"section-divider"},{default:a(()=>[t(o,null,{default:a(()=>[t(u(Z))]),_:1})]),_:1}),l("div",Ya,[l("h4",Ha,[t(o,null,{default:a(()=>[t(u(ee))]),_:1}),e[71]||(e[71]=g(" 选择复制格式 "))]),t(k,{ref_key:"copyFormRef",ref:pe,model:I.form,rules:I.rules,"label-width":"0px",class:"copy-form"},{default:a(()=>[t(m,{prop:"format"},{default:a(()=>[t(be,{modelValue:I.form.format,"onUpdate:modelValue":e[15]||(e[15]=r=>I.form.format=r),class:"format-radio-group"},{default:a(()=>[t(z,{value:"laoyu",class:"format-radio"},{default:a(()=>e[72]||(e[72]=[l("div",{class:"format-option"},[l("div",{class:"format-title"},"老鱼格式"),l("div",{class:"format-desc"},"地址/账号/密码/有效期")],-1)])),_:1,__:[72]}),t(z,{value:"laoyuRegion",class:"format-radio"},{default:a(()=>e[73]||(e[73]=[l("div",{class:"format-option"},[l("div",{class:"format-title"},"老鱼带地区格式"),l("div",{class:"format-desc"},"地址/账号/密码/地区名/有效期")],-1)])),_:1,__:[73]}),t(z,{value:"wanan",class:"format-radio"},{default:a(()=>e[74]||(e[74]=[l("div",{class:"format-option"},[l("div",{class:"format-title"},"万安格式"),l("div",{class:"format-desc"},"地址|账号|密码|有效期")],-1)])),_:1,__:[74]}),t(z,{value:"youmi",class:"format-radio"},{default:a(()=>e[75]||(e[75]=[l("div",{class:"format-option"},[l("div",{class:"format-title"},"有米格式"),l("div",{class:"format-desc"},"地址|账号|密码|有效期")],-1)])),_:1,__:[75]}),t(z,{value:"youmiRegion",class:"format-radio"},{default:a(()=>e[76]||(e[76]=[l("div",{class:"format-option"},[l("div",{class:"format-title"},"有米带地区格式"),l("div",{class:"format-desc"},"地址|账号|密码|地区名|有效期")],-1)])),_:1,__:[76]})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])])]),_:1},8,["modelValue"]),t(j,{modelValue:$.visible,"onUpdate:modelValue":e[20]||(e[20]=r=>$.visible=r),width:"480px","close-on-click-modal":!1,class:"export-dialog","align-center":""},{header:a(()=>[l("div",Ja,[t(o,{class:"dialog-icon"},{default:a(()=>[t(u(xe))]),_:1}),e[79]||(e[79]=l("span",{class:"dialog-title"},"批量导出",-1))])]),footer:a(()=>[l("div",sl,[t(i,{size:"large",onClick:e[19]||(e[19]=r=>$.visible=!1)},{default:a(()=>[t(o,null,{default:a(()=>[t(u(Q))]),_:1}),e[88]||(e[88]=g(" 取消 "))]),_:1,__:[88]}),t(i,{type:"primary",size:"large",loading:$.loading,onClick:lt},{default:a(()=>[t(o,null,{default:a(()=>[t(u(xe))]),_:1}),e[89]||(e[89]=g(" 导出到文件 "))]),_:1,__:[89]},8,["loading"])])]),default:a(()=>[l("div",Xa,[l("div",Ka,[l("h4",Wa,[t(o,null,{default:a(()=>[t(u(se))]),_:1}),e[80]||(e[80]=g(" 导出信息 "))]),l("div",el,[l("div",tl,[t(o,null,{default:a(()=>[t(u(H))]),_:1}),e[81]||(e[81]=l("span",{class:"label"},"选中节点:",-1)),l("span",al,w(f.value.length)+"个",1)])])]),t(q,{class:"section-divider"},{default:a(()=>[t(o,null,{default:a(()=>[t(u(Z))]),_:1})]),_:1}),l("div",ll,[l("h4",ol,[t(o,null,{default:a(()=>[t(u(ee))]),_:1}),e[82]||(e[82]=g(" 选择导出格式 "))]),t(k,{ref_key:"exportFormRef",ref:fe,model:$.form,rules:$.rules,"label-width":"0px",class:"export-form"},{default:a(()=>[t(m,{prop:"format"},{default:a(()=>[t(be,{modelValue:$.form.format,"onUpdate:modelValue":e[18]||(e[18]=r=>$.form.format=r),class:"format-radio-group"},{default:a(()=>[t(z,{value:"laoyu",class:"format-radio"},{default:a(()=>e[83]||(e[83]=[l("div",{class:"format-option"},[l("div",{class:"format-title"},"老鱼格式"),l("div",{class:"format-desc"},"地址/账号/密码/有效期")],-1)])),_:1,__:[83]}),t(z,{value:"laoyuRegion",class:"format-radio"},{default:a(()=>e[84]||(e[84]=[l("div",{class:"format-option"},[l("div",{class:"format-title"},"老鱼带地区格式"),l("div",{class:"format-desc"},"地址/账号/密码/地区名/有效期")],-1)])),_:1,__:[84]}),t(z,{value:"wanan",class:"format-radio"},{default:a(()=>e[85]||(e[85]=[l("div",{class:"format-option"},[l("div",{class:"format-title"},"万安格式"),l("div",{class:"format-desc"},"地址|账号|密码|有效期")],-1)])),_:1,__:[85]}),t(z,{value:"youmi",class:"format-radio"},{default:a(()=>e[86]||(e[86]=[l("div",{class:"format-option"},[l("div",{class:"format-title"},"有米格式"),l("div",{class:"format-desc"},"地址|账号|密码|有效期")],-1)])),_:1,__:[86]}),t(z,{value:"youmiRegion",class:"format-radio"},{default:a(()=>e[87]||(e[87]=[l("div",{class:"format-option"},[l("div",{class:"format-title"},"有米带地区格式"),l("div",{class:"format-desc"},"地址|账号|密码|地区名|有效期")],-1)])),_:1,__:[87]})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])])]),_:1},8,["modelValue"]),t(j,{modelValue:b.visible,"onUpdate:modelValue":e[24]||(e[24]=r=>b.visible=r),width:"900px","close-on-click-modal":!1,class:"order-log-dialog","align-center":""},{header:a(()=>[l("div",nl,[t(o,{class:"dialog-icon"},{default:a(()=>[t(u(H))]),_:1}),e[90]||(e[90]=l("span",{class:"dialog-title"},"订单日志",-1))])]),footer:a(()=>[l("div",Nl,[t(i,{size:"large",onClick:e[23]||(e[23]=r=>b.visible=!1)},{default:a(()=>[t(o,null,{default:a(()=>[t(u(Q))]),_:1}),e[97]||(e[97]=g(" 关闭 "))]),_:1,__:[97]})])]),default:a(()=>{var r,S,L,h;return[l("div",rl,[l("div",il,[l("h4",dl,[t(o,null,{default:a(()=>[t(u(te))]),_:1}),e[91]||(e[91]=g(" 节点信息 "))]),l("div",ul,[l("div",cl,[t(o,null,{default:a(()=>[t(u(ae))]),_:1}),e[92]||(e[92]=l("span",{class:"label"},"游戏:",-1)),l("span",ml,w((r=b.currentNode)==null?void 0:r.Game),1)]),l("div",pl,[t(o,null,{default:a(()=>[t(u(le))]),_:1}),e[93]||(e[93]=l("span",{class:"label"},"区域:",-1)),l("span",fl,w((S=b.currentNode)==null?void 0:S.Area),1)]),l("div",gl,[t(o,null,{default:a(()=>[t(u(oe))]),_:1}),e[94]||(e[94]=l("span",{class:"label"},"节点IP:",-1)),l("span",_l,w((L=b.currentNode)==null?void 0:L.IpAddress),1)]),l("div",vl,[t(o,null,{default:a(()=>[t(u(Ce))]),_:1}),e[95]||(e[95]=l("span",{class:"label"},"到期时间:",-1)),l("span",bl,w((h=b.currentNode)==null?void 0:h.EndTime),1)])])]),l("div",yl,[l("h4",hl,[t(o,null,{default:a(()=>[t(u(se))]),_:1}),e[96]||(e[96]=g(" 订单记录 "))]),we((P(),E(_e,{data:b.tableData,stripe:"",style:{width:"100%"},"max-height":"400px"},{default:a(()=>[t(v,{prop:"id",label:"订单ID",width:"120"}),t(v,{prop:"type",label:"类型",width:"80"},{default:a(({row:x})=>[t(B,{type:x.type==="购买"?"success":x.type==="续费"?"warning":"info",size:"small"},{default:a(()=>[g(w(x.type),1)]),_:2},1032,["type"])]),_:1}),t(v,{prop:"describe",label:"描述",width:"120"}),t(v,{prop:"time",label:"操作时间",width:"160"}),t(v,{prop:"ip",label:"IP地址",width:"120"}),t(v,{prop:"game",label:"游戏","min-width":"140"}),t(v,{prop:"area",label:"区域",width:"100"}),t(v,{prop:"start_time",label:"开始时间",width:"160"}),t(v,{prop:"end_time",label:"结束时间",width:"160"}),t(v,{prop:"amount",label:"金额变动",width:"100"},{default:a(({row:x})=>[t(B,{type:rt(x.amount),size:"small"},{default:a(()=>[g(w(parseFloat(x.amount)>0?"+":"")+w(parseFloat(x.amount).toFixed(2)),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])),[[ye,b.loading]]),l("div",wl,[t(ve,{"current-page":b.pagination.page,"onUpdate:currentPage":e[21]||(e[21]=x=>b.pagination.page=x),"page-size":b.pagination.size,"onUpdate:pageSize":e[22]||(e[22]=x=>b.pagination.size=x),"page-sizes":[10,20,50],total:b.pagination.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:nt,onCurrentChange:st},null,8,["current-page","page-size","total"])])])])]}),_:1},8,["modelValue"])])}}},Ul=mt(Pl,[["__scopeId","data-v-9f6200e9"]]);export{Ul as default};
