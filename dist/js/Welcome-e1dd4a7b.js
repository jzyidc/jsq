import{_ as W}from"./_plugin-vue_export-helper-e4601500.js";/* empty css                   *//* empty css               *//* empty css                *//* empty css               *//* empty css                  */import{u as Q,a as R,r as y,$ as j,aa as M,o as X,c as f,d as I,g as s,i as t,B as r,j as o,k as D,w as a,f as v,X as H,t as J,an as K,as as O,T as U,l as g,aT as q,aJ as G,H as P,aN as k,aQ as Y,aK as Z,x as ss,aM as ts,aI as es,aU as as,D as os,S as ns,aV as ls,aW as is,aX as rs,R as ds,p as cs,ap as us,ao as _s,q as fs}from"./index-53bb2135.js";import{a as vs,f as ps}from"./userHelper-c8e5e727.js";const ms={class:"welcome-container"},Is={class:"welcome-header"},gs={class:"avatar-section"},hs={class:"user-info"},bs={class:"welcome-text"},ys={class:"user-details"},ks={class:"stats-section"},xs={class:"stat-item"},ws={class:"stat-content"},Cs={class:"stat-number"},Ns={class:"stat-item"},$s={class:"stat-content"},Es={class:"stat-number"},Ls={class:"stat-item"},Ds={class:"stat-content"},Us={class:"stat-number"},qs={class:"stat-item"},Ts={class:"stat-content"},Vs={class:"stat-number"},Bs={class:"stat-item"},zs={class:"stat-content"},Fs={class:"stat-number"},Ss={class:"quick-actions"},As={class:"action-item"},Ws={class:"action-item"},Qs={class:"action-item"},Rs={class:"action-item"},js={class:"action-item"},Ms={class:"action-item"},Xs={class:"referral-section"},Hs={class:"card-header"},Js={class:"referrer-info"},Ks={key:0,class:"info-item"},Os={class:"info-value"},Gs={key:1,class:"info-item"},Ps={class:"info-value"},Ys={key:2,class:"info-item"},Zs={class:"info-value"},st={key:3,class:"no-referrer"},tt={class:"card-header"},et={class:"promotion-stats"},at={class:"stat-box"},ot={class:"stat-number"},nt={class:"stat-box"},lt={class:"stat-number"},it={class:"stat-box"},rt={class:"stat-number"},dt={class:"stat-box"},ct={class:"stat-number"},ut={key:0,class:"notice-content"},_t={class:"notice-header"},ft={class:"notice-title"},vt={class:"notice-time"},pt={class:"notice-body"},mt={class:"notice-text"},It={class:"notice-footer"},gt={key:0,class:"notice-pagination"},ht={class:"pagination-info"},bt={__name:"Welcome",setup(yt){const n=Q();R();const h=y(!1),p=y(null),_=y(0),T=j(()=>{if(n.userInfo.avatar)return n.userInfo.avatar;const d=n.userInfo.id||n.userInfo.phone||"1";return`/avatars/avatar${parseInt(d.toString())%6+1}.svg`}),V=d=>{if(!d)return"";const e=typeof d=="string"?new Date(d):d;return isNaN(e.getTime())?"":e.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})},x=async()=>{const d=await n.getNoticeAction();d.success&&d.data&&d.data.length>0&&(_.value=0,p.value=d.data[0],h.value=!0)},B=()=>{_.value<n.noticeList.length-1&&(_.value++,p.value=n.noticeList[_.value])},z=()=>{_.value>0&&(_.value--,p.value=n.noticeList[_.value])},F=()=>{h.value=!1,n.resetFirstLogin()};return M(()=>n.isFirstLogin,d=>{d&&setTimeout(()=>{x()},1e3)}),X(()=>{n.isFirstLogin&&x()}),(d,e)=>{const S=H,i=cs,w=J,u=us,c=_s,m=K,b=fs,A=O;return f(),I("div",ms,[s("div",Is,[s("div",gs,[t(S,{size:80,src:T.value,icon:"User"},null,8,["src"]),s("div",hs,[s("h2",null,"欢迎回来，"+r(o(vs)(o(n).userInfo))+"！",1),s("p",bs,r(o(n).userInfo.agent||"很高兴再次见到您"),1),s("div",ys,[o(n).userInfo.phone?(f(),D(w,{key:0,type:"info",size:"small"},{default:a(()=>[t(i,null,{default:a(()=>[t(o(U))]),_:1}),g(" "+r(o(n).userInfo.phone),1)]),_:1})):v("",!0),o(n).userInfo.createTime?(f(),D(w,{key:1,type:"success",size:"small"},{default:a(()=>[t(i,null,{default:a(()=>[t(o(q))]),_:1}),g(" 注册于 "+r(V(o(n).userInfo.createTime)),1)]),_:1})):v("",!0)])])])]),s("div",ks,[t(m,{gutter:20},{default:a(()=>[t(c,{span:6},{default:a(()=>[t(u,{class:"stat-card"},{default:a(()=>[s("div",xs,[t(i,{class:"stat-icon",color:"#67C23A"},{default:a(()=>[t(o(G))]),_:1}),s("div",ws,[s("div",Cs,"¥"+r(o(ps)(o(n).userInfo.balance)),1),e[7]||(e[7]=s("div",{class:"stat-label"},"账户余额",-1))])])]),_:1})]),_:1}),t(c,{span:6},{default:a(()=>[t(u,{class:"stat-card"},{default:a(()=>{var l;return[s("div",Ns,[t(i,{class:"stat-icon",color:"#409EFF"},{default:a(()=>[t(o(P))]),_:1}),s("div",$s,[s("div",Es,r(((l=o(n).userInfo.nodeInfo)==null?void 0:l.total_num)||0),1),e[8]||(e[8]=s("div",{class:"stat-label"},"节点数量",-1))])])]}),_:1})]),_:1}),t(c,{span:6},{default:a(()=>[t(u,{class:"stat-card"},{default:a(()=>{var l;return[s("div",Ls,[t(i,{class:"stat-icon",color:"#E6A23C"},{default:a(()=>[t(o(k))]),_:1}),s("div",Ds,[s("div",Us,r(((l=o(n).userInfo.nodeInfo)==null?void 0:l.pause_num)||0),1),e[9]||(e[9]=s("div",{class:"stat-label"},"暂停节点数",-1))])])]}),_:1})]),_:1}),t(c,{span:6},{default:a(()=>[t(u,{class:"stat-card"},{default:a(()=>{var l;return[s("div",qs,[t(i,{class:"stat-icon",color:"#F56C6C"},{default:a(()=>[t(o(k))]),_:1}),s("div",Ts,[s("div",Vs,r(((l=o(n).userInfo.nodeInfo)==null?void 0:l.expire_7_num)||0),1),e[10]||(e[10]=s("div",{class:"stat-label"},"7天到期节点数",-1))])])]}),_:1})]),_:1})]),_:1}),t(m,{gutter:20,style:{"margin-top":"20px"}},{default:a(()=>[t(c,{span:6},{default:a(()=>[t(u,{class:"stat-card"},{default:a(()=>{var l;return[s("div",Bs,[t(i,{class:"stat-icon",color:"#909399"},{default:a(()=>[t(o(k))]),_:1}),s("div",zs,[s("div",Fs,r(((l=o(n).userInfo.nodeInfo)==null?void 0:l.expire_end_num)||0),1),e[11]||(e[11]=s("div",{class:"stat-label"},"已过期节点数",-1))])])]}),_:1})]),_:1})]),_:1})]),s("div",Ss,[e[18]||(e[18]=s("h3",null,"快速操作",-1)),t(m,{gutter:20},{default:a(()=>[t(c,{span:8},{default:a(()=>[t(u,{class:"action-card",onClick:e[0]||(e[0]=l=>d.$router.push("/user/profile"))},{default:a(()=>[s("div",As,[t(i,{class:"action-icon"},{default:a(()=>[t(o(Y))]),_:1}),e[12]||(e[12]=s("div",{class:"action-content"},[s("div",{class:"action-title"},"个人资料"),s("div",{class:"action-desc"},"查看和编辑个人信息")],-1))])]),_:1})]),_:1}),t(c,{span:8},{default:a(()=>[t(u,{class:"action-card",onClick:e[1]||(e[1]=l=>d.$router.push("/user/logs"))},{default:a(()=>[s("div",Ws,[t(i,{class:"action-icon"},{default:a(()=>[t(o(Z))]),_:1}),e[13]||(e[13]=s("div",{class:"action-content"},[s("div",{class:"action-title"},"操作日志"),s("div",{class:"action-desc"},"查看账户操作记录")],-1))])]),_:1})]),_:1}),t(c,{span:8},{default:a(()=>[t(u,{class:"action-card",onClick:e[2]||(e[2]=l=>d.$router.push("/user/products/routes"))},{default:a(()=>[s("div",Qs,[t(i,{class:"action-icon"},{default:a(()=>[t(o(ss))]),_:1}),e[14]||(e[14]=s("div",{class:"action-content"},[s("div",{class:"action-title"},"订购业务"),s("div",{class:"action-desc"},"项目线路订购服务")],-1))])]),_:1})]),_:1})]),_:1}),t(m,{gutter:20,style:{"margin-top":"20px"}},{default:a(()=>[t(c,{span:8},{default:a(()=>[t(u,{class:"action-card",onClick:e[3]||(e[3]=l=>d.$router.push("/user/business/list"))},{default:a(()=>[s("div",Rs,[t(i,{class:"action-icon"},{default:a(()=>[t(o(ts))]),_:1}),e[15]||(e[15]=s("div",{class:"action-content"},[s("div",{class:"action-title"},"业务列表"),s("div",{class:"action-desc"},"查看已订购的业务")],-1))])]),_:1})]),_:1}),t(c,{span:8},{default:a(()=>[t(u,{class:"action-card",onClick:e[4]||(e[4]=l=>d.$router.push("/user/recharge"))},{default:a(()=>[s("div",js,[t(i,{class:"action-icon"},{default:a(()=>[t(o(es))]),_:1}),e[16]||(e[16]=s("div",{class:"action-content"},[s("div",{class:"action-title"},"财务管理"),s("div",{class:"action-desc"},"账户充值和财务记录")],-1))])]),_:1})]),_:1}),t(c,{span:8},{default:a(()=>[t(u,{class:"action-card",onClick:e[5]||(e[5]=l=>d.$router.push("/user/orders"))},{default:a(()=>[s("div",Ms,[t(i,{class:"action-icon"},{default:a(()=>[t(o(as))]),_:1}),e[17]||(e[17]=s("div",{class:"action-content"},[s("div",{class:"action-title"},"订单列表"),s("div",{class:"action-desc"},"查看所有订单记录")],-1))])]),_:1})]),_:1})]),_:1})]),s("div",Xs,[e[29]||(e[29]=s("h3",null,"代理推广",-1)),t(m,{gutter:20},{default:a(()=>[t(c,{span:12},{default:a(()=>[t(u,{class:"referrer-card"},{header:a(()=>[s("div",Hs,[t(i,{class:"header-icon"},{default:a(()=>[t(o(os))]),_:1}),e[19]||(e[19]=s("span",null,"上级推荐人",-1))])]),default:a(()=>{var l,C,N,$,E,L;return[s("div",Js,[(l=o(n).userInfo.referrerInfo)!=null&&l.referrer_phone?(f(),I("div",Ks,[t(i,{class:"info-icon"},{default:a(()=>[t(o(U))]),_:1}),e[20]||(e[20]=s("span",{class:"info-label"},"手机号：",-1)),s("span",Os,r(o(n).userInfo.referrerInfo.referrer_phone),1)])):v("",!0),(C=o(n).userInfo.referrerInfo)!=null&&C.referrer_qq?(f(),I("div",Gs,[t(i,{class:"info-icon"},{default:a(()=>[t(o(ns))]),_:1}),e[21]||(e[21]=s("span",{class:"info-label"},"QQ：",-1)),s("span",Ps,r(o(n).userInfo.referrerInfo.referrer_qq),1)])):v("",!0),(N=o(n).userInfo.referrerInfo)!=null&&N.referrer_wx?(f(),I("div",Ys,[t(i,{class:"info-icon"},{default:a(()=>[t(o(ls))]),_:1}),e[22]||(e[22]=s("span",{class:"info-label"},"微信：",-1)),s("span",Zs,r(o(n).userInfo.referrerInfo.referrer_wx),1)])):v("",!0),!(($=o(n).userInfo.referrerInfo)!=null&&$.referrer_phone)&&!((E=o(n).userInfo.referrerInfo)!=null&&E.referrer_qq)&&!((L=o(n).userInfo.referrerInfo)!=null&&L.referrer_wx)?(f(),I("div",st,[t(i,{class:"empty-icon"},{default:a(()=>[t(o(is))]),_:1}),e[23]||(e[23]=s("span",null,"暂无上级推荐人信息",-1))])):v("",!0)])]}),_:1})]),_:1}),t(c,{span:12},{default:a(()=>[t(u,{class:"promotion-card"},{header:a(()=>[s("div",tt,[t(i,{class:"header-icon"},{default:a(()=>[t(o(rs))]),_:1}),e[24]||(e[24]=s("span",null,"我的推广",-1))])]),default:a(()=>[s("div",et,[t(m,{gutter:16},{default:a(()=>[t(c,{span:12},{default:a(()=>{var l;return[s("div",at,[s("div",ot,r(((l=o(n).userInfo.myUserInfo)==null?void 0:l.today_num)||0),1),e[25]||(e[25]=s("div",{class:"stat-label"},"今天注册数",-1))])]}),_:1}),t(c,{span:12},{default:a(()=>{var l;return[s("div",nt,[s("div",lt,r(((l=o(n).userInfo.myUserInfo)==null?void 0:l.month_num)||0),1),e[26]||(e[26]=s("div",{class:"stat-label"},"本月注册数",-1))])]}),_:1})]),_:1}),t(m,{gutter:16,style:{"margin-top":"15px"}},{default:a(()=>[t(c,{span:12},{default:a(()=>{var l;return[s("div",it,[s("div",rt,r(((l=o(n).userInfo.myUserInfo)==null?void 0:l.year_num)||0),1),e[27]||(e[27]=s("div",{class:"stat-label"},"本年注册数",-1))])]}),_:1}),t(c,{span:12},{default:a(()=>{var l;return[s("div",dt,[s("div",ct,r(((l=o(n).userInfo.myUserInfo)==null?void 0:l.total_num)||0),1),e[28]||(e[28]=s("div",{class:"stat-label"},"总注册数",-1))])]}),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),t(A,{modelValue:h.value,"onUpdate:modelValue":e[6]||(e[6]=l=>h.value=l),title:"系统公告",width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,center:""},{footer:a(()=>[s("div",It,[o(n).noticeList.length>1?(f(),I("div",gt,[t(b,{disabled:_.value===0,onClick:z,size:"small"},{default:a(()=>e[30]||(e[30]=[g(" 上一条 ")])),_:1,__:[30]},8,["disabled"]),s("span",ht,r(_.value+1)+" / "+r(o(n).noticeList.length),1),t(b,{disabled:_.value===o(n).noticeList.length-1,onClick:B,size:"small"},{default:a(()=>e[31]||(e[31]=[g(" 下一条 ")])),_:1,__:[31]},8,["disabled"])])):v("",!0),t(b,{type:"primary",onClick:F},{default:a(()=>[t(i,null,{default:a(()=>[t(o(ds))]),_:1}),e[32]||(e[32]=g(" 我知道了 "))]),_:1,__:[32]})])]),default:a(()=>[p.value?(f(),I("div",ut,[s("div",_t,[s("h3",ft,r(p.value.title),1),s("div",vt,[t(i,null,{default:a(()=>[t(o(q))]),_:1}),g(" "+r(p.value.create_time),1)])]),s("div",pt,[s("p",mt,r(p.value.content),1)])])):v("",!0)]),_:1},8,["modelValue"])])}}},Dt=W(bt,[["__scopeId","data-v-488476e4"]]);export{Dt as default};
