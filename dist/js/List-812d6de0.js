import{_ as Xe}from"./_plugin-vue_export-helper-e4601500.js";/* empty css                  *//* empty css                       *//* empty css                 *//* empty css                   *//* empty css                   *//* empty css                *//* empty css               *//* empty css                     *//* empty css                 *//* empty css                        *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                         *//* empty css                     */import{a as el,a0 as z,r as x,o as ll,c as $,d as T,i as l,w as a,bi as al,E as u,ap as tl,as as ol,g as t,j as m,bj as sl,l as p,F as B,h as R,k as E,Q as nl,b0 as ne,at as rl,B as C,bk as re,aQ as Y,J as il,G as F,R as j,P as ie,H as de,y as ue,bc as ce,O as me,bl as dl,aI as ul,b1 as cl,bm as ml,aT as fl,b2 as fe,aM as pe,aK as ve,v as _e,af as A,bn as ge,ba as be,bo as J,bb as pl,bp as vl,p as _l,q as gl,au as bl,av as wl,a4 as yl,a3 as hl,a2 as Pl,bq as $l,aw as Cl,t as Nl,Y as Il,Z as xl,s as Gl,ax as kl,ay as Vl,a_ as Sl,az as Tl,aA as El,aB as Al,br as zl}from"./index-53bb2135.js";const Bl={class:"business-list"},Rl={class:"card-header"},Ml={class:"search-area"},Ll={class:"batch-actions"},Dl={class:"batch-buttons"},Ol={class:"proxy-info"},Ul={class:"proxy-port"},Fl={class:"pagination-wrapper"},jl={class:"dialog-header"},ql={class:"dialog-content"},Ql={class:"current-node-section"},Hl={class:"section-title"},Yl={class:"current-node-info"},Jl={class:"node-item"},Kl={class:"value"},Zl={class:"node-item"},Wl={class:"value"},Xl={class:"node-item"},ea={class:"value"},la={class:"target-node-section"},aa={class:"section-title"},ta={class:"dialog-footer"},oa={class:"dialog-header"},sa={class:"dialog-content"},na={class:"current-node-section"},ra={class:"section-title"},ia={class:"current-node-info"},da={class:"node-item"},ua={class:"value"},ca={class:"node-item"},ma={class:"value"},fa={class:"node-item"},pa={class:"value"},va={class:"node-item"},_a={class:"value expire-time"},ga={class:"renew-section"},ba={class:"section-title"},wa={class:"dialog-footer"},ya={class:"dialog-header"},ha={class:"dialog-content"},Pa={class:"copy-info-section"},$a={class:"section-title"},Ca={class:"copy-info"},Na={class:"info-item"},Ia={class:"value"},xa={class:"format-section"},Ga={class:"section-title"},ka={class:"dialog-footer"},Va={class:"dialog-header"},Sa={class:"dialog-content"},Ta={class:"export-info-section"},Ea={class:"section-title"},Aa={class:"export-info"},za={class:"info-item"},Ba={class:"value"},Ra={class:"format-section"},Ma={class:"section-title"},La={class:"dialog-footer"},Da={__name:"List",setup(Oa){const we=el(),ye=[{Province:"北京市"},{Province:"天津市"},{Province:"河北省"},{Province:"山西省"},{Province:"内蒙古自治区"},{Province:"辽宁省"},{Province:"吉林省"},{Province:"黑龙江省"},{Province:"上海市"},{Province:"江苏省"},{Province:"浙江省"},{Province:"安徽省"},{Province:"福建省"},{Province:"江西省"},{Province:"山东省"},{Province:"河南省"},{Province:"湖北省"},{Province:"湖南省"},{Province:"广东省"},{Province:"广西壮族自治区"},{Province:"海南省"},{Province:"重庆市"},{Province:"四川省"},{Province:"贵州省"},{Province:"云南省"},{Province:"西藏自治区"},{Province:"陕西省"},{Province:"甘肃省"},{Province:"青海省"},{Province:"宁夏回族自治区"},{Province:"新疆维吾尔自治区"},{Province:"台湾省"},{Province:"香港特别行政区"},{Province:"澳门特别行政区"}],_=z({game:"",area:"",group:"",screenNode:"",screenEndTime:""}),L=x([]),q=x(!1),K=x(),f=x([]),Z=x([]),W=x([]),X=x([]),y=z({page:1,size:20,total:0}),n=z({visible:!1,loading:!1,currentNode:null,form:{GameName:"",Province:"",AreaName:""},gameOptions:[],provinceOptions:[],areaOptions:[],rules:{GameName:[{required:!0,message:"请选择目标游戏",trigger:"change"}],Province:[{required:!0,message:"请选择省份",trigger:"change"}],AreaName:[{required:!0,message:"请选择目标地区",trigger:"change"}]}}),ee=x(),g=z({visible:!1,loading:!1,currentNode:null,form:{renewTime:""},rules:{renewTime:[{required:!0,message:"请选择续费时长",trigger:"change"}]}}),le=x(),P=z({visible:!1,loading:!1,form:{format:"wanan"},rules:{format:[{required:!0,message:"请选择复制格式",trigger:"change"}]}}),ae=x(),h=z({visible:!1,loading:!1,form:{format:"wanan"},rules:{format:[{required:!0,message:"请选择导出格式",trigger:"change"}]}}),te=x(),he=s=>s<=0?"danger":s<=7?"warning":"success",Pe=()=>{y.page=1,I()},$e=()=>{_.game="",_.area="",_.group="",_.screenNode="",_.screenEndTime="",y.page=1,I()},Ce=()=>{we.push("/user/products/routes")},Ne=s=>{g.currentNode=s,g.form.renewTime="",g.visible=!0},Ie=async s=>{try{n.currentNode=s,n.form.GameName="",n.form.Province="",n.form.AreaName="",n.provinceOptions=[],n.areaOptions=[];const e=await be();if(e.Code===1e3&&e.List)n.gameOptions=e.List||[],s.Game&&(n.form.GameName=s.Game,Q(s.Game));else{u.error("获取游戏列表失败");return}n.visible=!0}catch(e){console.error("打开切换节点对话框失败:",e),u.error("打开切换节点对话框失败")}},xe=s=>{A.prompt("请输入新的分组（4位数字）","设置分组",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^\d{4}$/,inputErrorMessage:"分组必须是4位数字",inputValue:s.Group||""}).then(async({value:e})=>{try{const o=await ge({Id:[s.Id],Group:e});o.Code===1e3?(u.success("分组设置成功"),I()):u.error(o.Msg||"分组设置失败")}catch(o){console.error("设置分组失败:",o),u.error("设置分组失败")}}).catch(()=>{})},Ge=s=>{A.prompt("请输入新密码","设置密码",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"password",inputPlaceholder:"请输入新密码",inputValidator:e=>e?e.length<6?"密码长度不能少于6位":!0:"密码不能为空"}).then(async({value:e})=>{try{const o=await zl({Id:[s.Id],Password:e});o.Code===1e3?(u.success("密码设置成功"),I()):u.error(o.Msg||"密码设置失败")}catch(o){console.error("设置密码失败:",o),u.error("设置密码失败")}}).catch(()=>{})},ke=async s=>{try{await A.confirm(`确定要切换节点吗？

当前节点信息：
游戏：${s.Game}
区域：${s.Area}

将使用当前参数进行切换`,"快速切换节点",{confirmButtonText:"确定切换",cancelButtonText:"取消",type:"warning"});const e=await J({Id:[s.Id],GameName:s.Game,Province:s.Province||"",AreaName:s.Area});if(e.Code===1e3)u.success("节点切换成功"),I();else{const o=e.Msg||"节点切换失败";e.Code===-1&&o.includes("库存不足")?u.error(`切换失败：${s.Game}/${s.Area} 库存不足，无法切换`):u.error(o)}}catch(e){e!=="cancel"&&(console.error("快速切换节点失败:",e),u.error("快速切换节点失败"))}},Ve=(s,e)=>{switch(s){case"switch":Ie(e);break;case"quickSwitch":ke(e);break;case"setGroup":xe(e);break;case"setPassword":Ge(e);break;default:console.warn("未知的操作命令:",s)}},Se=()=>{if(f.value.length===0){u.warning("请先选择要设置分组的节点");return}A.prompt("请输入新的分组（4位数字）",`批量设置分组 (${f.value.length}个节点)`,{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^\d{4}$/,inputErrorMessage:"分组必须是4位数字"}).then(async({value:s})=>{try{const e=f.value.map(d=>d.Id),o=await ge({Id:e,Group:s});o.Code===1e3?(u.success(`成功设置${f.value.length}个节点的分组`),S(),I()):u.error(o.Msg||"批量设置分组失败")}catch(e){console.error("批量设置分组失败:",e),u.error("批量设置分组失败")}}).catch(()=>{})},Te=()=>{if(f.value.length===0){u.warning("请先选择要续费的节点");return}A.confirm(`确定要为选中的 ${f.value.length} 个节点进行批量续费吗？`,"批量续费确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{g.currentNode={Game:"批量续费",Area:`${f.value.length}个节点`,IpAddress:"多个IP",EndTime:"不同到期时间"},g.form.renewTime="",g.visible=!0}).catch(()=>{})},Ee=()=>{if(f.value.length===0){u.warning("请先选择要复制的节点");return}P.form.format="wanan",P.visible=!0},Ae=()=>{if(f.value.length===0){u.warning("请先选择要导出的节点");return}h.form.format="wanan",h.visible=!0},ze=async()=>{if(f.value.length===0){u.warning("请先选择要切换的节点");return}const s=[...new Set(f.value.map(e=>e.Game))];if(s.length>1){u.error(`批量切换节点失败：选中的节点游戏不一致，包含 ${s.join("、")} 等游戏，请选择相同游戏的节点进行批量切换`);return}try{const e=f.value[0].Game;n.currentNode={Game:"批量切换",Area:`${f.value.length}个节点`,IpAddress:"多个IP"},n.form.GameName="",n.form.Province="",n.form.AreaName="",n.provinceOptions=[],n.areaOptions=[];const o=await be();if(o.Code===1e3&&o.List)n.gameOptions=o.List||[],e&&(n.form.GameName=e,Q(e));else{u.error("获取游戏列表失败");return}n.visible=!0}catch(e){console.error("打开批量切换节点对话框失败:",e),u.error("打开批量切换节点对话框失败")}},Be=async()=>{if(f.value.length===0){u.warning("请先选择要切换IP的节点");return}const s=[...new Set(f.value.map(e=>e.Game))];if(s.length>1){u.error(`批量切换IP失败：选中的节点游戏不一致，包含 ${s.join("、")} 等游戏，请选择相同游戏的节点进行批量切换`);return}try{await A.confirm(`确定要为选中的 ${f.value.length} 个节点进行批量切换IP吗？

注意：切换IP将使用当前节点的游戏和区域参数进行切换`,"批量切换IP确认",{confirmButtonText:"确定切换",cancelButtonText:"取消",type:"warning"});const e={};f.value.forEach(i=>{const v=`${i.Game}-${i.Area}`;e[v]||(e[v]={game:i.Game,area:i.Area,province:i.Province||"",nodeIds:[]}),e[v].nodeIds.push(i.Id)});let o=0,d=0;const c=[];for(const i of Object.values(e))try{const v=await J({Id:i.nodeIds,GameName:i.game,Province:i.province,AreaName:i.area});if(v.Code===1e3)o+=i.nodeIds.length;else{d+=i.nodeIds.length;const N=v.Msg||"切换失败";console.error(`切换失败 - ${i.game}/${i.area}:`,N),v.Code===-1&&N.includes("库存不足")?c.push(`${i.game}/${i.area}: 库存不足，无法切换`):c.push(`${i.game}/${i.area}: ${N}`)}}catch(v){d+=i.nodeIds.length,console.error(`切换异常 - ${i.game}/${i.area}:`,v),c.push(`${i.game}/${i.area}: 网络异常`)}if(o>0&&d===0)u.success(`成功切换${o}个节点的IP`);else if(o>0&&d>0){const i=c.length>0?`
详细信息：
${c.join(`
`)}`:"";u.warning(`成功切换${o}个节点，${d}个节点切换失败${i}`)}else{const i=c.length>0?`
详细信息：
${c.join(`
`)}`:"";u.error(`批量切换IP失败${i}`)}S(),I()}catch(e){e!=="cancel"&&(console.error("批量切换IP失败:",e),u.error("批量切换IP失败"))}},Re=s=>{f.value=s},S=()=>{var s;(s=K.value)==null||s.clearSelection(),f.value=[]},Me=s=>{y.size=s,y.page=1,I()},Le=s=>{y.page=s,I()},I=async()=>{q.value=!0;try{const s={page:y.page,pageSize:y.size};_.game&&(s.game=_.game),_.area&&(s.area=_.area),_.group&&(s.group=_.group),_.screenNode&&(s.ScreenNode=_.screenNode),_.screenEndTime&&(s.ScreenEndTime=_.screenEndTime);const e=await al(s);e.Code===1e3?(L.value=e.List||[],y.total=e.RowCount||0,e.ScreenGameList&&(Z.value=e.ScreenGameList),e.ScreenAreaList&&(W.value=e.ScreenAreaList),e.ScreenGroupList&&(X.value=e.ScreenGroupList)):(u.error(e.Msg||"获取数据失败"),L.value=[],y.total=0)}catch(s){console.error("获取业务列表失败:",s),u.error("获取数据失败"),L.value=[],y.total=0}finally{q.value=!1}},Q=s=>{if(n.form.Province="",n.form.AreaName="",n.areaOptions=[],!s){n.provinceOptions=[];return}n.provinceOptions=ye},De=async s=>{try{if(n.form.AreaName="",n.areaOptions=[],!s||!n.form.GameName)return;const e=await pl({GameName:n.form.GameName,ScreenProvince:s});e.Code===1e3?e.List&&e.List.length>0?n.areaOptions=e.List:(n.areaOptions=[],u.warning("该省份暂无可用节点")):u.error(e.Msg||"获取地区列表失败")}catch(e){console.error("获取地区列表失败:",e),u.error("获取地区列表失败")}},Oe=async()=>{var s;try{await((s=ee.value)==null?void 0:s.validate());const e=n.currentNode.Game==="批量切换",o=e?f.value.length:1;await A.confirm(`切换节点后，系统将根据新节点的单价重新计算并调整到期时间，确定要继续切换${e?`这${o}个节点`:""}吗？`,"切换节点提醒",{confirmButtonText:"确定切换",cancelButtonText:"取消",type:"warning"}),n.loading=!0;let d;e?d=f.value.map(i=>i.Id):d=[n.currentNode.Id];const c=await J({Id:d,AreaName:n.form.AreaName,GameName:n.form.GameName,Province:n.form.Province});if(c.Code===1e3){const i=e?`成功切换${o}个节点`:"节点切换成功";u.success(i),n.visible=!1,e&&S(),I()}else{const i=c.Msg||"节点切换失败";c.Code===-1&&i.includes("库存不足")?e?u.error("批量切换失败：库存不足，无法切换选中的节点"):u.error(`切换失败：${n.form.GameName}/${n.form.AreaName} 库存不足，无法切换`):u.error(i)}}catch(e){e!==!1&&(console.error("切换节点失败:",e),u.error("切换节点失败"))}finally{n.loading=!1}},Ue=async()=>{var s;try{await((s=le.value)==null?void 0:s.validate()),g.loading=!0;let e,o;g.currentNode.Game==="批量续费"?(e=f.value.map(c=>c.Id),o=`成功续费${f.value.length}个节点`):(e=[g.currentNode.Id],o="节点续费成功");const d=await vl({Id:e,RenewTime:g.form.renewTime});d.Code===1e3?(u.success(o),g.visible=!1,g.currentNode.Game==="批量续费"&&S(),I()):u.error(d.Msg||"节点续费失败")}catch(e){e!==!1&&(console.error("续费失败:",e),u.error("续费失败"))}finally{g.loading=!1}},Fe=async()=>{var s;try{await((s=ae.value)==null?void 0:s.validate()),P.loading=!0;const e=oe(f.value,P.form.format);try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(e);else{const o=document.createElement("textarea");o.value=e,o.style.position="fixed",o.style.left="-999999px",o.style.top="-999999px",document.body.appendChild(o),o.focus(),o.select(),document.execCommand("copy"),document.body.removeChild(o)}u.success(`成功复制${f.value.length}个节点信息到剪贴板`),P.visible=!1,S()}catch(o){console.error("剪贴板操作失败:",o),u.error("复制到剪贴板失败，请检查浏览器权限或手动复制")}}catch(e){e!==!1&&(console.error("复制失败:",e),u.error("操作失败"))}finally{P.loading=!1}},je=async()=>{var s;try{await((s=te.value)==null?void 0:s.validate()),h.loading=!0;const e=oe(f.value,h.form.format),o=new Blob([e],{type:"text/plain;charset=utf-8"}),d=window.URL.createObjectURL(o),c=document.createElement("a");c.href=d;const i=new Date,v=i.getFullYear()+String(i.getMonth()+1).padStart(2,"0")+String(i.getDate()).padStart(2,"0")+"_"+String(i.getHours()).padStart(2,"0")+String(i.getMinutes()).padStart(2,"0")+String(i.getSeconds()).padStart(2,"0");c.download=`节点导出_${h.form.format}_${v}.txt`,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(d),u.success(`成功导出${f.value.length}个节点信息到文件`),h.visible=!1,S()}catch(e){e!==!1&&(console.error("导出失败:",e),u.error("导出文件失败"))}finally{h.loading=!1}},oe=(s,e)=>s.map(d=>{const c=d.Connect_IpAddress||d.IpAddress||"",i=d.Port||"",v=d.User||"",N=d.Pass||"",k=d.Area||"",H=d.StartTime||"",w=d.EndTime||"";switch(e){case"wanan":return`${c}|${i}|${v}|${N}|${w}`;case"slash":return`${c}/${i}/${v}/${N}`;case"region":return`${c}/${i}/${v}/${N}/${k}`;case"regionDate":return`${c}/${i}/${v}/${N}/${k}/${H}/${w}`;case"browser":return`${c}:${i}:${v}:${N}`;default:return`${c}|${i}|${v}|${N}|${w}`}}).join(`
`);return ll(()=>{I()}),(s,e)=>{const o=_l,d=gl,c=bl,i=wl,v=yl,N=hl,k=Pl,H=$l,w=Cl,qe=Nl,D=Il,Qe=xl,He=Gl,Ye=kl,Je=Vl,Ke=tl,O=Sl,U=ol,G=Tl,se=El,Ze=Al;return $(),T("div",Bl,[l(Ke,{class:"page-card"},{header:a(()=>[t("div",Rl,[e[22]||(e[22]=t("span",null,"业务列表",-1)),l(d,{type:"primary",onClick:Ce},{default:a(()=>[l(o,null,{default:a(()=>[l(m(sl))]),_:1}),e[21]||(e[21]=p(" 新增业务 "))]),_:1,__:[21]})])]),default:a(()=>[t("div",Ml,[l(k,{model:_,inline:""},{default:a(()=>[l(v,{label:"游戏"},{default:a(()=>[l(i,{modelValue:_.game,"onUpdate:modelValue":e[0]||(e[0]=r=>_.game=r),placeholder:"请选择游戏",clearable:"",style:{width:"200px"}},{default:a(()=>[l(c,{label:"全部",value:""}),($(!0),T(B,null,R(Z.value,r=>($(),E(c,{key:r,label:r,value:r},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(v,{label:"区域"},{default:a(()=>[l(i,{modelValue:_.area,"onUpdate:modelValue":e[1]||(e[1]=r=>_.area=r),placeholder:"请选择区域",clearable:"",style:{width:"200px"}},{default:a(()=>[l(c,{label:"全部",value:""}),($(!0),T(B,null,R(W.value,r=>($(),E(c,{key:r,label:r,value:r},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(v,{label:"分组"},{default:a(()=>[l(i,{modelValue:_.group,"onUpdate:modelValue":e[2]||(e[2]=r=>_.group=r),placeholder:"请选择分组",clearable:"",style:{width:"120px"}},{default:a(()=>[l(c,{label:"全部",value:""}),($(!0),T(B,null,R(X.value,r=>($(),E(c,{key:r,label:r,value:r},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(v,{label:"IP/链接"},{default:a(()=>[l(N,{modelValue:_.screenNode,"onUpdate:modelValue":e[3]||(e[3]=r=>_.screenNode=r),placeholder:"请输入IP或链接地址",clearable:"",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),l(v,{label:"过期时间"},{default:a(()=>[l(N,{modelValue:_.screenEndTime,"onUpdate:modelValue":e[4]||(e[4]=r=>_.screenEndTime=r),placeholder:"请输入天数",clearable:"",style:{width:"120px"},type:"number",min:"0"},null,8,["modelValue"])]),_:1}),l(v,null,{default:a(()=>[l(d,{type:"primary",onClick:Pe},{default:a(()=>[l(o,null,{default:a(()=>[l(m(nl))]),_:1}),e[23]||(e[23]=p(" 搜索 "))]),_:1,__:[23]}),l(d,{onClick:$e},{default:a(()=>[l(o,null,{default:a(()=>[l(m(ne))]),_:1}),e[24]||(e[24]=p(" 重置 "))]),_:1,__:[24]})]),_:1})]),_:1},8,["model"])]),t("div",Ll,[l(H,{title:f.value.length>0?`已选择 ${f.value.length} 个节点`:"请选择节点进行批量操作",type:f.value.length>0?"info":"warning","show-icon":"",closable:!1},{default:a(()=>[t("div",Dl,[l(d,{type:"primary",size:"small",disabled:f.value.length===0,onClick:Se},{default:a(()=>e[25]||(e[25]=[p(" 批量设置分组 ")])),_:1,__:[25]},8,["disabled"]),l(d,{type:"warning",size:"small",disabled:f.value.length===0,onClick:Te},{default:a(()=>e[26]||(e[26]=[p(" 批量续费 ")])),_:1,__:[26]},8,["disabled"]),l(d,{type:"success",size:"small",disabled:f.value.length===0,onClick:Ee},{default:a(()=>e[27]||(e[27]=[p(" 批量复制 ")])),_:1,__:[27]},8,["disabled"]),l(d,{type:"info",size:"small",disabled:f.value.length===0,onClick:Ae},{default:a(()=>e[28]||(e[28]=[p(" 批量导出 ")])),_:1,__:[28]},8,["disabled"]),l(d,{type:"primary",size:"small",disabled:f.value.length===0,onClick:ze},{default:a(()=>e[29]||(e[29]=[p(" 批量切换节点 ")])),_:1,__:[29]},8,["disabled"]),l(d,{type:"warning",size:"small",disabled:f.value.length===0,onClick:Be},{default:a(()=>e[30]||(e[30]=[p(" 批量切换IP ")])),_:1,__:[30]},8,["disabled"]),l(d,{size:"small",disabled:f.value.length===0,onClick:S},{default:a(()=>e[31]||(e[31]=[p(" 取消选择 ")])),_:1,__:[31]},8,["disabled"])])]),_:1},8,["title","type"])]),rl(($(),E(Ye,{ref_key:"tableRef",ref:K,data:L.value,stripe:"",style:{width:"100%"},onSelectionChange:Re},{default:a(()=>[l(w,{type:"selection",width:"45"}),l(w,{prop:"Id",label:"ID",width:"100"}),l(w,{prop:"Game",label:"游戏","min-width":"180"}),l(w,{prop:"Area",label:"区域",width:"140"}),l(w,{prop:"Group",label:"分组",width:"70"}),l(w,{prop:"Isp",label:"线路",width:"60"}),l(w,{prop:"IpAddress",label:"节点IP",width:"125"}),l(w,{label:"代理信息",width:"180"},{default:a(({row:r})=>[t("div",Ol,[t("div",null,"用户: "+C(r.User),1),t("div",null,"密码: "+C(r.Pass),1),t("div",null,"链接: "+C(r.Connect_IpAddress),1),t("div",Ul,"端口: "+C(r.Port),1)])]),_:1}),l(w,{prop:"StartTime",label:"开始时间",width:"120"}),l(w,{prop:"EndTime",label:"到期时间",width:"120"}),l(w,{label:"剩余天数",width:"100"},{default:a(({row:r})=>[l(qe,{type:he(r.EndDays),size:"small"},{default:a(()=>[p(C(Math.floor(r.EndDays))+"天 ",1)]),_:2},1032,["type"])]),_:1}),l(w,{label:"操作",width:"150",fixed:"right"},{default:a(({row:r})=>[l(d,{type:"success",size:"small",onClick:V=>Ne(r),style:{"margin-right":"8px"}},{default:a(()=>e[32]||(e[32]=[p(" 续费 ")])),_:2,__:[32]},1032,["onClick"]),l(He,{trigger:"click",onCommand:V=>Ve(V,r)},{dropdown:a(()=>[l(Qe,null,{default:a(()=>[l(D,{command:"switch"},{default:a(()=>[l(o,null,{default:a(()=>[l(m(re))]),_:1}),e[34]||(e[34]=p(" 切换节点 "))]),_:1,__:[34]}),l(D,{command:"quickSwitch"},{default:a(()=>[l(o,null,{default:a(()=>[l(m(ne))]),_:1}),e[35]||(e[35]=p(" 切换IP "))]),_:1,__:[35]}),l(D,{command:"setGroup"},{default:a(()=>[l(o,null,{default:a(()=>[l(m(Y))]),_:1}),e[36]||(e[36]=p(" 设置分组 "))]),_:1,__:[36]}),l(D,{command:"setPassword"},{default:a(()=>[l(o,null,{default:a(()=>[l(m(il))]),_:1}),e[37]||(e[37]=p(" 设置密码 "))]),_:1,__:[37]})]),_:1})]),default:a(()=>[l(d,{size:"small",type:"info"},{default:a(()=>[e[33]||(e[33]=p(" 更多 ")),l(o,{class:"el-icon--right"},{default:a(()=>[l(m(F))]),_:1})]),_:1,__:[33]})]),_:2},1032,["onCommand"])]),_:1})]),_:1},8,["data"])),[[Ze,q.value]]),t("div",Fl,[l(Je,{"current-page":y.page,"onUpdate:currentPage":e[5]||(e[5]=r=>y.page=r),"page-size":y.size,"onUpdate:pageSize":e[6]||(e[6]=r=>y.size=r),"page-sizes":[10,20,50,100],total:y.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Me,onCurrentChange:Le},null,8,["current-page","page-size","total"])])]),_:1}),l(U,{modelValue:n.visible,"onUpdate:modelValue":e[11]||(e[11]=r=>n.visible=r),width:"580px","close-on-click-modal":!1,class:"switch-node-dialog","align-center":""},{header:a(()=>[t("div",jl,[l(o,{class:"dialog-icon"},{default:a(()=>[l(m(re))]),_:1}),e[38]||(e[38]=t("span",{class:"dialog-title"},"切换节点",-1))])]),footer:a(()=>[t("div",ta,[l(d,{size:"large",onClick:e[10]||(e[10]=r=>n.visible=!1)},{default:a(()=>[l(o,null,{default:a(()=>[l(m(j))]),_:1}),e[44]||(e[44]=p(" 取消 "))]),_:1,__:[44]}),l(d,{type:"primary",size:"large",loading:n.loading,onClick:Oe},{default:a(()=>[l(o,null,{default:a(()=>[l(m(ie))]),_:1}),e[45]||(e[45]=p(" 确认切换 "))]),_:1,__:[45]},8,["loading"])])]),default:a(()=>[t("div",ql,[l(k,{ref_key:"switchFormRef",ref:ee,model:n.form,rules:n.rules,"label-width":"90px",class:"switch-form"},{default:a(()=>{var r,V,M;return[t("div",Ql,[t("h4",Hl,[l(o,null,{default:a(()=>[l(m(de))]),_:1}),e[39]||(e[39]=p(" 当前节点信息 "))]),t("div",Yl,[t("div",Jl,[l(o,null,{default:a(()=>[l(m(ue))]),_:1}),e[40]||(e[40]=t("span",{class:"label"},"游戏:",-1)),t("span",Kl,C((r=n.currentNode)==null?void 0:r.Game),1)]),t("div",Zl,[l(o,null,{default:a(()=>[l(m(ce))]),_:1}),e[41]||(e[41]=t("span",{class:"label"},"区域:",-1)),t("span",Wl,C((V=n.currentNode)==null?void 0:V.Area),1)]),t("div",Xl,[l(o,null,{default:a(()=>[l(m(me))]),_:1}),e[42]||(e[42]=t("span",{class:"label"},"IP:",-1)),t("span",ea,C((M=n.currentNode)==null?void 0:M.IpAddress),1)])])]),l(O,{class:"section-divider copy-divider"},{default:a(()=>[l(o,null,{default:a(()=>[l(m(F))]),_:1})]),_:1}),t("div",la,[t("h4",aa,[l(o,null,{default:a(()=>[l(m(dl))]),_:1}),e[43]||(e[43]=p(" 目标节点选择 "))]),l(v,{label:"目标游戏",prop:"GameName"},{default:a(()=>[l(i,{modelValue:n.form.GameName,"onUpdate:modelValue":e[7]||(e[7]=b=>n.form.GameName=b),placeholder:"请选择游戏",style:{width:"100%"},size:"large",onChange:Q},{default:a(()=>[($(!0),T(B,null,R(n.gameOptions,b=>($(),E(c,{key:b.Game,label:b.Game,value:b.Game},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(v,{label:"目标省份",prop:"Province"},{default:a(()=>[l(i,{modelValue:n.form.Province,"onUpdate:modelValue":e[8]||(e[8]=b=>n.form.Province=b),placeholder:"请选择省份",style:{width:"100%"},size:"large",disabled:!n.form.GameName,onChange:De},{default:a(()=>[($(!0),T(B,null,R(n.provinceOptions,b=>($(),E(c,{key:b.Province,label:b.Province,value:b.Province},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1}),l(v,{label:"目标地区",prop:"AreaName"},{default:a(()=>[l(i,{modelValue:n.form.AreaName,"onUpdate:modelValue":e[9]||(e[9]=b=>n.form.AreaName=b),placeholder:"请选择地区",style:{width:"100%"},size:"large",disabled:!n.form.Province},{default:a(()=>[($(!0),T(B,null,R(n.areaOptions,b=>($(),E(c,{key:b.Area,label:`${b.Area} (${b.Count>0?b.Count:"99+"}个空闲)`,value:b.Area},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})])]}),_:1},8,["model","rules"])])]),_:1},8,["modelValue"]),l(U,{modelValue:g.visible,"onUpdate:modelValue":e[14]||(e[14]=r=>g.visible=r),width:"520px","close-on-click-modal":!1,class:"renew-dialog","align-center":""},{header:a(()=>[t("div",oa,[l(o,{class:"dialog-icon"},{default:a(()=>[l(m(ul))]),_:1}),e[46]||(e[46]=t("span",{class:"dialog-title"},"节点续费",-1))])]),footer:a(()=>[t("div",wa,[l(d,{size:"large",onClick:e[13]||(e[13]=r=>g.visible=!1)},{default:a(()=>[l(o,null,{default:a(()=>[l(m(j))]),_:1}),e[59]||(e[59]=p(" 取消 "))]),_:1,__:[59]}),l(d,{type:"primary",size:"large",loading:g.loading,onClick:Ue},{default:a(()=>[l(o,null,{default:a(()=>[l(m(ie))]),_:1}),e[60]||(e[60]=p(" 确认续费 "))]),_:1,__:[60]},8,["loading"])])]),default:a(()=>[t("div",sa,[l(k,{ref_key:"renewFormRef",ref:le,model:g.form,rules:g.rules,"label-width":"90px",class:"renew-form"},{default:a(()=>{var r,V,M,b;return[t("div",na,[t("h4",ra,[l(o,null,{default:a(()=>[l(m(de))]),_:1}),e[47]||(e[47]=p(" 当前节点信息 "))]),t("div",ia,[t("div",da,[l(o,null,{default:a(()=>[l(m(ue))]),_:1}),e[48]||(e[48]=t("span",{class:"label"},"游戏:",-1)),t("span",ua,C((r=g.currentNode)==null?void 0:r.Game),1)]),t("div",ca,[l(o,null,{default:a(()=>[l(m(ce))]),_:1}),e[49]||(e[49]=t("span",{class:"label"},"区域:",-1)),t("span",ma,C((V=g.currentNode)==null?void 0:V.Area),1)]),t("div",fa,[l(o,null,{default:a(()=>[l(m(me))]),_:1}),e[50]||(e[50]=t("span",{class:"label"},"IP:",-1)),t("span",pa,C((M=g.currentNode)==null?void 0:M.IpAddress),1)]),t("div",va,[l(o,null,{default:a(()=>[l(m(cl))]),_:1}),e[51]||(e[51]=t("span",{class:"label"},"到期时间:",-1)),t("span",_a,C((b=g.currentNode)==null?void 0:b.EndTime),1)])])]),l(O,{class:"section-divider"},{default:a(()=>[l(o,null,{default:a(()=>[l(m(ml))]),_:1})]),_:1}),t("div",ga,[t("h4",ba,[l(o,null,{default:a(()=>[l(m(fl))]),_:1}),e[52]||(e[52]=p(" 续费时长选择 "))]),l(v,{label:"续费时长",prop:"renewTime"},{default:a(()=>[l(i,{modelValue:g.form.renewTime,"onUpdate:modelValue":e[12]||(e[12]=We=>g.form.renewTime=We),placeholder:"请选择续费时长",style:{width:"100%"},size:"large"},{default:a(()=>[l(c,{label:"一天",value:"day"},{default:a(()=>e[53]||(e[53]=[t("div",{class:"renew-option"},[t("span",{class:"option-label"},"一天"),t("span",{class:"option-desc trial"},"短期体验")],-1)])),_:1,__:[53]}),l(c,{label:"一周",value:"week"},{default:a(()=>e[54]||(e[54]=[t("div",{class:"renew-option"},[t("span",{class:"option-label"},"一周"),t("span",{class:"option-desc temporary"},"临时使用")],-1)])),_:1,__:[54]}),l(c,{label:"一个月",value:"moon"},{default:a(()=>e[55]||(e[55]=[t("div",{class:"renew-option"},[t("span",{class:"option-label"},"一个月"),t("span",{class:"option-desc recommended"},"推荐选择")],-1)])),_:1,__:[55]}),l(c,{label:"三个月",value:"three_moon"},{default:a(()=>e[56]||(e[56]=[t("div",{class:"renew-option"},[t("span",{class:"option-label"},"三个月"),t("span",{class:"option-desc best-value"},"性价比高")],-1)])),_:1,__:[56]}),l(c,{label:"半年",value:"six_moon"},{default:a(()=>e[57]||(e[57]=[t("div",{class:"renew-option"},[t("span",{class:"option-label"},"半年"),t("span",{class:"option-desc long-term"},"长期优惠")],-1)])),_:1,__:[57]}),l(c,{label:"一年",value:"year"},{default:a(()=>e[58]||(e[58]=[t("div",{class:"renew-option"},[t("span",{class:"option-label"},"一年"),t("span",{class:"option-desc best-deal"},"最大优惠")],-1)])),_:1,__:[58]})]),_:1},8,["modelValue"])]),_:1})])]}),_:1},8,["model","rules"])])]),_:1},8,["modelValue"]),l(U,{modelValue:P.visible,"onUpdate:modelValue":e[17]||(e[17]=r=>P.visible=r),width:"480px","close-on-click-modal":!1,class:"copy-dialog","align-center":""},{header:a(()=>[t("div",ya,[l(o,{class:"dialog-icon"},{default:a(()=>[l(m(fe))]),_:1}),e[61]||(e[61]=t("span",{class:"dialog-title"},"批量复制",-1))])]),footer:a(()=>[t("div",ka,[l(d,{size:"large",onClick:e[16]||(e[16]=r=>P.visible=!1)},{default:a(()=>[l(o,null,{default:a(()=>[l(m(j))]),_:1}),e[70]||(e[70]=p(" 取消 "))]),_:1,__:[70]}),l(d,{type:"primary",size:"large",loading:P.loading,onClick:Fe},{default:a(()=>[l(o,null,{default:a(()=>[l(m(fe))]),_:1}),e[71]||(e[71]=p(" 复制到剪贴板 "))]),_:1,__:[71]},8,["loading"])])]),default:a(()=>[t("div",ha,[t("div",Pa,[t("h4",$a,[l(o,null,{default:a(()=>[l(m(pe))]),_:1}),e[62]||(e[62]=p(" 复制信息 "))]),t("div",Ca,[t("div",Na,[l(o,null,{default:a(()=>[l(m(ve))]),_:1}),e[63]||(e[63]=t("span",{class:"label"},"选中节点:",-1)),t("span",Ia,C(f.value.length)+"个",1)])])]),l(O,{class:"section-divider"},{default:a(()=>[l(o,null,{default:a(()=>[l(m(F))]),_:1})]),_:1}),t("div",xa,[t("h4",Ga,[l(o,null,{default:a(()=>[l(m(Y))]),_:1}),e[64]||(e[64]=p(" 选择复制格式 "))]),l(k,{ref_key:"copyFormRef",ref:ae,model:P.form,rules:P.rules,"label-width":"0px",class:"copy-form"},{default:a(()=>[l(v,{prop:"format"},{default:a(()=>[l(se,{modelValue:P.form.format,"onUpdate:modelValue":e[15]||(e[15]=r=>P.form.format=r),class:"format-radio-group"},{default:a(()=>[l(G,{value:"wanan",class:"format-radio"},{default:a(()=>e[65]||(e[65]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"万安格式"),t("div",{class:"format-desc"},"ip|端口|账号|密码|到期日期")],-1)])),_:1,__:[65]}),l(G,{value:"slash",class:"format-radio"},{default:a(()=>e[66]||(e[66]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"斜杠格式"),t("div",{class:"format-desc"},"ip/端口/账号/密码")],-1)])),_:1,__:[66]}),l(G,{value:"region",class:"format-radio"},{default:a(()=>e[67]||(e[67]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"地区格式"),t("div",{class:"format-desc"},"ip/端口/账号/密码/地区")],-1)])),_:1,__:[67]}),l(G,{value:"regionDate",class:"format-radio"},{default:a(()=>e[68]||(e[68]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"地区日期格式"),t("div",{class:"format-desc"},"ip/端口/账号/密码/地区/购买/到期")],-1)])),_:1,__:[68]}),l(G,{value:"browser",class:"format-radio"},{default:a(()=>e[69]||(e[69]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"浏览器格式"),t("div",{class:"format-desc"},"ip:端口:账号:密码")],-1)])),_:1,__:[69]})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])])]),_:1},8,["modelValue"]),l(U,{modelValue:h.visible,"onUpdate:modelValue":e[20]||(e[20]=r=>h.visible=r),width:"480px","close-on-click-modal":!1,class:"export-dialog","align-center":""},{header:a(()=>[t("div",Va,[l(o,{class:"dialog-icon"},{default:a(()=>[l(m(_e))]),_:1}),e[72]||(e[72]=t("span",{class:"dialog-title"},"批量导出",-1))])]),footer:a(()=>[t("div",La,[l(d,{size:"large",onClick:e[19]||(e[19]=r=>h.visible=!1)},{default:a(()=>[l(o,null,{default:a(()=>[l(m(j))]),_:1}),e[81]||(e[81]=p(" 取消 "))]),_:1,__:[81]}),l(d,{type:"primary",size:"large",loading:h.loading,onClick:je},{default:a(()=>[l(o,null,{default:a(()=>[l(m(_e))]),_:1}),e[82]||(e[82]=p(" 导出到文件 "))]),_:1,__:[82]},8,["loading"])])]),default:a(()=>[t("div",Sa,[t("div",Ta,[t("h4",Ea,[l(o,null,{default:a(()=>[l(m(pe))]),_:1}),e[73]||(e[73]=p(" 导出信息 "))]),t("div",Aa,[t("div",za,[l(o,null,{default:a(()=>[l(m(ve))]),_:1}),e[74]||(e[74]=t("span",{class:"label"},"选中节点:",-1)),t("span",Ba,C(f.value.length)+"个",1)])])]),l(O,{class:"section-divider"},{default:a(()=>[l(o,null,{default:a(()=>[l(m(F))]),_:1})]),_:1}),t("div",Ra,[t("h4",Ma,[l(o,null,{default:a(()=>[l(m(Y))]),_:1}),e[75]||(e[75]=p(" 选择导出格式 "))]),l(k,{ref_key:"exportFormRef",ref:te,model:h.form,rules:h.rules,"label-width":"0px",class:"export-form"},{default:a(()=>[l(v,{prop:"format"},{default:a(()=>[l(se,{modelValue:h.form.format,"onUpdate:modelValue":e[18]||(e[18]=r=>h.form.format=r),class:"format-radio-group"},{default:a(()=>[l(G,{value:"wanan",class:"format-radio"},{default:a(()=>e[76]||(e[76]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"万安格式"),t("div",{class:"format-desc"},"ip|端口|账号|密码|到期日期")],-1)])),_:1,__:[76]}),l(G,{value:"slash",class:"format-radio"},{default:a(()=>e[77]||(e[77]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"斜杠格式"),t("div",{class:"format-desc"},"ip/端口/账号/密码")],-1)])),_:1,__:[77]}),l(G,{value:"region",class:"format-radio"},{default:a(()=>e[78]||(e[78]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"地区格式"),t("div",{class:"format-desc"},"ip/端口/账号/密码/地区")],-1)])),_:1,__:[78]}),l(G,{value:"regionDate",class:"format-radio"},{default:a(()=>e[79]||(e[79]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"地区日期格式"),t("div",{class:"format-desc"},"ip/端口/账号/密码/地区/购买/到期")],-1)])),_:1,__:[79]}),l(G,{value:"browser",class:"format-radio"},{default:a(()=>e[80]||(e[80]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"浏览器格式"),t("div",{class:"format-desc"},"ip:端口:账号:密码")],-1)])),_:1,__:[80]})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])])]),_:1},8,["modelValue"])])}}},ot=Xe(Da,[["__scopeId","data-v-4e8720d1"]]);export{ot as default};
