import{_ as G}from"./_plugin-vue_export-helper-e4601500.js";/* empty css                   *//* empty css               *//* empty css                *//* empty css               *//* empty css                  */import{u as M,a as O,r as k,a9 as X,aa as J,o as K,c as _,d as I,g as t,i as s,D as d,j as o,k as b,w as e,f as m,m as P,X as Y,t as Z,az as ss,aA as ts,z as es,l as v,aB as A,T as q,aC as U,ag as B,H as as,ak as C,am as os,ah as ls,x as ns,aj as is,af as ds,aD as rs,C as cs,S as us,aE as _s,aF as fs,aG as ms,R as vs,p as ps,aH as gs,aI as Is,q as xs}from"./index-8dfd10b0.js";import{a as hs,f as w}from"./userHelper-c8e5e727.js";const bs={class:"welcome-container"},ys={class:"welcome-header"},ks={class:"avatar-section"},Cs={class:"user-info"},ws={class:"welcome-text"},Ns={class:"user-details"},Es={class:"stats-section"},$s={class:"stat-item"},zs={class:"stat-content"},Ds={class:"stat-number"},Ls={class:"stat-item"},As={class:"stat-content"},qs={class:"stat-number"},Us={class:"stat-item"},Bs={class:"stat-content"},Fs={class:"stat-number"},Ts={class:"stat-item"},Vs={class:"stat-content"},Ss={class:"stat-number"},js={class:"stat-item"},Rs={class:"stat-content"},Ws={class:"stat-number"},Hs={class:"stat-item"},Qs={class:"stat-content"},Gs={class:"stat-number"},Ms={class:"stat-item"},Os={class:"stat-content"},Xs={class:"stat-number"},Js={class:"quick-actions"},Ks={class:"action-item"},Ps={class:"action-item"},Ys={class:"action-item"},Zs={class:"action-item"},st={class:"action-item"},tt={class:"action-item"},et={class:"referral-section"},at={class:"card-header"},ot={class:"referrer-info"},lt={key:0,class:"info-item"},nt={class:"info-value"},it={key:1,class:"info-item"},dt={class:"info-value"},rt={key:2,class:"info-item"},ct={class:"info-value"},ut={key:3,class:"no-referrer"},_t={class:"card-header"},ft={class:"promotion-stats"},mt={class:"stat-box"},vt={class:"stat-number"},pt={class:"stat-box"},gt={class:"stat-number"},It={class:"stat-box"},xt={class:"stat-number"},ht={class:"stat-box"},bt={class:"stat-number"},yt={key:0,class:"notice-content"},kt={class:"notice-header"},Ct={class:"notice-title"},wt={class:"notice-time"},Nt={class:"notice-body"},Et={class:"notice-text"},$t={class:"notice-footer"},zt={key:0,class:"notice-pagination"},Dt={class:"pagination-info"},Lt={__name:"Welcome",setup(At){const l=M(),F=O(),x=k(!1),p=k(null),f=k(0),T=X(()=>{if(l.userInfo.avatar)return l.userInfo.avatar;const r=l.userInfo.id||l.userInfo.phone||"1";return`/avatars/avatar${parseInt(r.toString())%6+1}.svg`}),V=r=>{if(!r)return"";const a=typeof r=="string"?new Date(r):r;return isNaN(a.getTime())?"":a.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})},N=async()=>{const r=await l.getNoticeAction();r.success&&r.data&&r.data.length>0&&(f.value=0,p.value=r.data[0],x.value=!0)},S=()=>{f.value<l.noticeList.length-1&&(f.value++,p.value=l.noticeList[f.value])},j=()=>{f.value>0&&(f.value--,p.value=l.noticeList[f.value])},R=()=>{x.value=!1,l.resetFirstLogin()},W=()=>{l.userInfo.authentication||F.push("/user/profile")};return J(()=>l.isFirstLogin,r=>{r&&setTimeout(()=>{N()},1e3)}),K(()=>{l.isFirstLogin&&N()}),(r,a)=>{const H=Y,i=ps,h=Z,u=gs,c=Is,g=ss,y=xs,Q=ts;return _(),I("div",bs,[t("div",ys,[t("div",ks,[s(H,{size:80,src:T.value,icon:"User"},null,8,["src"]),t("div",Cs,[t("h2",null,"欢迎回来，"+d(o(hs)(o(l).userInfo))+"！",1),t("p",ws,d(o(l).userInfo.agent||"很高兴再次见到您"),1),t("div",Ns,[o(l).userInfo.realName?(_(),b(h,{key:0,type:"primary",size:"small"},{default:e(()=>[s(i,null,{default:e(()=>[s(o(es))]),_:1}),v(" "+d(o(l).userInfo.realName),1)]),_:1})):m("",!0),o(l).userInfo.authentication!==void 0?(_(),b(h,{key:1,type:o(l).userInfo.authentication?"success":"warning",size:"small",class:P({"clickable-tag":!o(l).userInfo.authentication}),onClick:W},{default:e(()=>[s(i,null,{default:e(()=>[s(o(A))]),_:1}),v(" "+d(o(l).userInfo.authentication?"已实名":"未实名"),1)]),_:1},8,["type","class"])):m("",!0),o(l).userInfo.phone?(_(),b(h,{key:2,type:"info",size:"small"},{default:e(()=>[s(i,null,{default:e(()=>[s(o(q))]),_:1}),v(" "+d(o(l).userInfo.phone),1)]),_:1})):m("",!0),o(l).userInfo.createTime?(_(),b(h,{key:3,type:"success",size:"small"},{default:e(()=>[s(i,null,{default:e(()=>[s(o(U))]),_:1}),v(" 注册于 "+d(V(o(l).userInfo.createTime)),1)]),_:1})):m("",!0)])])])]),t("div",Es,[s(g,{gutter:20},{default:e(()=>[s(c,{xs:12,sm:12,md:6,lg:6,xl:6},{default:e(()=>[s(u,{class:"stat-card"},{default:e(()=>[t("div",$s,[s(i,{class:"stat-icon",color:"#67C23A"},{default:e(()=>[s(o(B))]),_:1}),t("div",zs,[t("div",Ds,"¥"+d(o(w)(o(l).userInfo.balance)),1),a[7]||(a[7]=t("div",{class:"stat-label"},"账户余额",-1))])])]),_:1})]),_:1}),s(c,{xs:12,sm:12,md:6,lg:6,xl:6},{default:e(()=>[s(u,{class:"stat-card"},{default:e(()=>{var n;return[t("div",Ls,[s(i,{class:"stat-icon",color:"#409EFF"},{default:e(()=>[s(o(as))]),_:1}),t("div",As,[t("div",qs,d(((n=o(l).userInfo.nodeInfo)==null?void 0:n.total_num)||0),1),a[8]||(a[8]=t("div",{class:"stat-label"},"节点数量",-1))])])]}),_:1})]),_:1}),s(c,{xs:12,sm:12,md:6,lg:6,xl:6},{default:e(()=>[s(u,{class:"stat-card"},{default:e(()=>{var n;return[t("div",Us,[s(i,{class:"stat-icon",color:"#E6A23C"},{default:e(()=>[s(o(C))]),_:1}),t("div",Bs,[t("div",Fs,d(((n=o(l).userInfo.nodeInfo)==null?void 0:n.pause_num)||0),1),a[9]||(a[9]=t("div",{class:"stat-label"},"暂停节点数",-1))])])]}),_:1})]),_:1}),s(c,{xs:12,sm:12,md:6,lg:6,xl:6},{default:e(()=>[s(u,{class:"stat-card"},{default:e(()=>{var n;return[t("div",Ts,[s(i,{class:"stat-icon",color:"#F56C6C"},{default:e(()=>[s(o(C))]),_:1}),t("div",Vs,[t("div",Ss,d(((n=o(l).userInfo.nodeInfo)==null?void 0:n.expire_7_num)||0),1),a[10]||(a[10]=t("div",{class:"stat-label"},"7天到期节点数",-1))])])]}),_:1})]),_:1})]),_:1}),s(g,{gutter:20,style:{"margin-top":"20px"}},{default:e(()=>[s(c,{xs:12,sm:12,md:6,lg:6,xl:6},{default:e(()=>[s(u,{class:"stat-card"},{default:e(()=>{var n;return[t("div",js,[s(i,{class:"stat-icon",color:"#909399"},{default:e(()=>[s(o(C))]),_:1}),t("div",Rs,[t("div",Ws,d(((n=o(l).userInfo.nodeInfo)==null?void 0:n.expire_end_num)||0),1),a[11]||(a[11]=t("div",{class:"stat-label"},"已过期节点数",-1))])])]}),_:1})]),_:1}),s(c,{xs:12,sm:12,md:6,lg:6,xl:6},{default:e(()=>[s(u,{class:"stat-card"},{default:e(()=>[t("div",Hs,[s(i,{class:"stat-icon",color:"#67C23A"},{default:e(()=>[s(o(B))]),_:1}),t("div",Qs,[t("div",Gs,"¥"+d(o(w)(o(l).userInfo.total_pay_amount)),1),a[12]||(a[12]=t("div",{class:"stat-label"},"总充值金额",-1))])])]),_:1})]),_:1}),s(c,{xs:12,sm:12,md:6,lg:6,xl:6},{default:e(()=>[s(u,{class:"stat-card"},{default:e(()=>[t("div",Ms,[s(i,{class:"stat-icon",color:"#E6A23C"},{default:e(()=>[s(o(A))]),_:1}),t("div",Os,[t("div",Xs,"¥"+d(o(w)(o(l).userInfo.total_commission_amount)),1),a[13]||(a[13]=t("div",{class:"stat-label"},"总佣金金额",-1))])])]),_:1})]),_:1})]),_:1})]),t("div",Js,[a[20]||(a[20]=t("h3",null,"快速操作",-1)),s(g,{gutter:20},{default:e(()=>[s(c,{xs:24,sm:12,md:8,lg:8,xl:8},{default:e(()=>[s(u,{class:"action-card",onClick:a[0]||(a[0]=n=>r.$router.push("/user/profile"))},{default:e(()=>[t("div",Ks,[s(i,{class:"action-icon"},{default:e(()=>[s(o(os))]),_:1}),a[14]||(a[14]=t("div",{class:"action-content"},[t("div",{class:"action-title"},"个人资料"),t("div",{class:"action-desc"},"查看和编辑个人信息")],-1))])]),_:1})]),_:1}),s(c,{xs:24,sm:12,md:8,lg:8,xl:8},{default:e(()=>[s(u,{class:"action-card",onClick:a[1]||(a[1]=n=>r.$router.push("/user/logs"))},{default:e(()=>[t("div",Ps,[s(i,{class:"action-icon"},{default:e(()=>[s(o(ls))]),_:1}),a[15]||(a[15]=t("div",{class:"action-content"},[t("div",{class:"action-title"},"操作日志"),t("div",{class:"action-desc"},"查看账户操作记录")],-1))])]),_:1})]),_:1}),s(c,{xs:24,sm:12,md:8,lg:8,xl:8},{default:e(()=>[s(u,{class:"action-card",onClick:a[2]||(a[2]=n=>r.$router.push("/user/products/routes"))},{default:e(()=>[t("div",Ys,[s(i,{class:"action-icon"},{default:e(()=>[s(o(ns))]),_:1}),a[16]||(a[16]=t("div",{class:"action-content"},[t("div",{class:"action-title"},"订购业务"),t("div",{class:"action-desc"},"项目线路订购服务")],-1))])]),_:1})]),_:1})]),_:1}),s(g,{gutter:20,style:{"margin-top":"20px"}},{default:e(()=>[s(c,{xs:24,sm:12,md:8,lg:8,xl:8},{default:e(()=>[s(u,{class:"action-card",onClick:a[3]||(a[3]=n=>r.$router.push("/user/business/list"))},{default:e(()=>[t("div",Zs,[s(i,{class:"action-icon"},{default:e(()=>[s(o(is))]),_:1}),a[17]||(a[17]=t("div",{class:"action-content"},[t("div",{class:"action-title"},"业务列表"),t("div",{class:"action-desc"},"查看已订购的业务")],-1))])]),_:1})]),_:1}),s(c,{xs:24,sm:12,md:8,lg:8,xl:8},{default:e(()=>[s(u,{class:"action-card",onClick:a[4]||(a[4]=n=>r.$router.push("/user/recharge"))},{default:e(()=>[t("div",st,[s(i,{class:"action-icon"},{default:e(()=>[s(o(ds))]),_:1}),a[18]||(a[18]=t("div",{class:"action-content"},[t("div",{class:"action-title"},"财务管理"),t("div",{class:"action-desc"},"账户充值和财务记录")],-1))])]),_:1})]),_:1}),s(c,{xs:24,sm:12,md:8,lg:8,xl:8},{default:e(()=>[s(u,{class:"action-card",onClick:a[5]||(a[5]=n=>r.$router.push("/user/orders"))},{default:e(()=>[t("div",tt,[s(i,{class:"action-icon"},{default:e(()=>[s(o(rs))]),_:1}),a[19]||(a[19]=t("div",{class:"action-content"},[t("div",{class:"action-title"},"订单列表"),t("div",{class:"action-desc"},"查看所有订单记录")],-1))])]),_:1})]),_:1})]),_:1})]),t("div",et,[a[31]||(a[31]=t("h3",null,"代理推广",-1)),s(g,{gutter:20},{default:e(()=>[s(c,{xs:24,sm:24,md:12,lg:12,xl:12},{default:e(()=>[s(u,{class:"referrer-card"},{header:e(()=>[t("div",at,[s(i,{class:"header-icon"},{default:e(()=>[s(o(cs))]),_:1}),a[21]||(a[21]=t("span",null,"上级推荐人",-1))])]),default:e(()=>{var n,E,$,z,D,L;return[t("div",ot,[(n=o(l).userInfo.referrerInfo)!=null&&n.referrer_phone?(_(),I("div",lt,[s(i,{class:"info-icon"},{default:e(()=>[s(o(q))]),_:1}),a[22]||(a[22]=t("span",{class:"info-label"},"手机号：",-1)),t("span",nt,d(o(l).userInfo.referrerInfo.referrer_phone),1)])):m("",!0),(E=o(l).userInfo.referrerInfo)!=null&&E.referrer_qq?(_(),I("div",it,[s(i,{class:"info-icon"},{default:e(()=>[s(o(us))]),_:1}),a[23]||(a[23]=t("span",{class:"info-label"},"QQ：",-1)),t("span",dt,d(o(l).userInfo.referrerInfo.referrer_qq),1)])):m("",!0),($=o(l).userInfo.referrerInfo)!=null&&$.referrer_wx?(_(),I("div",rt,[s(i,{class:"info-icon"},{default:e(()=>[s(o(_s))]),_:1}),a[24]||(a[24]=t("span",{class:"info-label"},"微信：",-1)),t("span",ct,d(o(l).userInfo.referrerInfo.referrer_wx),1)])):m("",!0),!((z=o(l).userInfo.referrerInfo)!=null&&z.referrer_phone)&&!((D=o(l).userInfo.referrerInfo)!=null&&D.referrer_qq)&&!((L=o(l).userInfo.referrerInfo)!=null&&L.referrer_wx)?(_(),I("div",ut,[s(i,{class:"empty-icon"},{default:e(()=>[s(o(fs))]),_:1}),a[25]||(a[25]=t("span",null,"暂无上级推荐人信息",-1))])):m("",!0)])]}),_:1})]),_:1}),s(c,{xs:24,sm:24,md:12,lg:12,xl:12},{default:e(()=>[s(u,{class:"promotion-card"},{header:e(()=>[t("div",_t,[s(i,{class:"header-icon"},{default:e(()=>[s(o(ms))]),_:1}),a[26]||(a[26]=t("span",null,"我的推广",-1))])]),default:e(()=>[t("div",ft,[s(g,{gutter:16},{default:e(()=>[s(c,{xs:12,sm:12,md:12,lg:12,xl:12},{default:e(()=>{var n;return[t("div",mt,[t("div",vt,d(((n=o(l).userInfo.myUserInfo)==null?void 0:n.today_num)||0),1),a[27]||(a[27]=t("div",{class:"stat-label"},"今天注册数",-1))])]}),_:1}),s(c,{xs:12,sm:12,md:12,lg:12,xl:12},{default:e(()=>{var n;return[t("div",pt,[t("div",gt,d(((n=o(l).userInfo.myUserInfo)==null?void 0:n.month_num)||0),1),a[28]||(a[28]=t("div",{class:"stat-label"},"本月注册数",-1))])]}),_:1})]),_:1}),s(g,{gutter:16,style:{"margin-top":"15px"}},{default:e(()=>[s(c,{xs:12,sm:12,md:12,lg:12,xl:12},{default:e(()=>{var n;return[t("div",It,[t("div",xt,d(((n=o(l).userInfo.myUserInfo)==null?void 0:n.year_num)||0),1),a[29]||(a[29]=t("div",{class:"stat-label"},"本年注册数",-1))])]}),_:1}),s(c,{xs:12,sm:12,md:12,lg:12,xl:12},{default:e(()=>{var n;return[t("div",ht,[t("div",bt,d(((n=o(l).userInfo.myUserInfo)==null?void 0:n.total_num)||0),1),a[30]||(a[30]=t("div",{class:"stat-label"},"总注册数",-1))])]}),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),s(Q,{modelValue:x.value,"onUpdate:modelValue":a[6]||(a[6]=n=>x.value=n),title:"系统公告",width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,center:""},{footer:e(()=>[t("div",$t,[o(l).noticeList.length>1?(_(),I("div",zt,[s(y,{disabled:f.value===0,onClick:j,size:"small"},{default:e(()=>a[32]||(a[32]=[v(" 上一条 ")])),_:1,__:[32]},8,["disabled"]),t("span",Dt,d(f.value+1)+" / "+d(o(l).noticeList.length),1),s(y,{disabled:f.value===o(l).noticeList.length-1,onClick:S,size:"small"},{default:e(()=>a[33]||(a[33]=[v(" 下一条 ")])),_:1,__:[33]},8,["disabled"])])):m("",!0),s(y,{type:"primary",onClick:R},{default:e(()=>[s(i,null,{default:e(()=>[s(o(vs))]),_:1}),a[34]||(a[34]=v(" 我知道了 "))]),_:1,__:[34]})])]),default:e(()=>[p.value?(_(),I("div",yt,[t("div",kt,[t("h3",Ct,d(p.value.title),1),t("div",wt,[s(i,null,{default:e(()=>[s(o(U))]),_:1}),v(" "+d(p.value.create_time),1)])]),t("div",Nt,[t("p",Et,d(p.value.content),1)])])):m("",!0)]),_:1},8,["modelValue"])])}}},Rt=G(Lt,[["__scopeId","data-v-7ebbe7cd"]]);export{Rt as default};
