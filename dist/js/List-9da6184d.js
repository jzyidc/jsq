import{_ as ll}from"./_plugin-vue_export-helper-e4601500.js";/* empty css                  *//* empty css                       *//* empty css                   *//* empty css                   *//* empty css                *//* empty css               *//* empty css                     *//* empty css                 *//* empty css                        *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                         *//* empty css                     */import{a as al,$ as z,r as x,o as tl,c as y,d as k,i as l,w as a,bc as ol,E as u,aG as sl,aA as nl,g as t,j as f,bd as rl,l as v,F as L,h as R,k as E,Q as il,aN as ne,aP as dl,D as $,be as re,am as Y,J as ul,G as F,R as j,P as ie,H as de,y as ue,b4 as ce,O as me,bf as cl,af as ml,aO as fl,bg as pl,aB as vl,ag as fe,aQ as pe,aj as ve,ah as _e,v as ge,ar as A,bh as be,b2 as we,bi as Z,b3 as _l,bj as gl,bk as bl,p as wl,q as yl,aR as hl,aS as Pl,a3 as $l,a2 as Cl,a1 as Nl,bl as Il,aU as xl,t as Gl,Y as kl,Z as Vl,s as Sl,aV as Tl,aW as El,aK as Al,bm as zl,ba as Ll,aZ as Rl,bn as Bl}from"./index-cf8bdcfb.js";const Ml={class:"business-list"},Dl={class:"card-header"},Ol={class:"search-area"},Ul={class:"batch-actions"},Fl={class:"batch-buttons"},jl={class:"proxy-info"},ql={class:"proxy-port"},Ql={class:"pagination-wrapper"},Hl={class:"dialog-header"},Yl={class:"dialog-content"},Zl={class:"current-node-section"},Jl={class:"section-title"},Kl={class:"current-node-info"},Wl={class:"node-item"},Xl={class:"value"},ea={class:"node-item"},la={class:"value"},aa={class:"node-item"},ta={class:"value"},oa={class:"target-node-section"},sa={class:"section-title"},na={class:"dialog-footer"},ra={class:"dialog-header"},ia={class:"dialog-content"},da={class:"current-node-section"},ua={class:"section-title"},ca={class:"current-node-info"},ma={class:"node-item"},fa={class:"value"},pa={class:"node-item"},va={class:"value"},_a={class:"node-item"},ga={class:"value"},ba={class:"node-item"},wa={class:"value expire-time"},ya={class:"renew-section"},ha={class:"section-title"},Pa={class:"renew-price-section"},$a={class:"section-title"},Ca={class:"renew-price-info"},Na={key:0,class:"price-value"},Ia={key:1,class:"price-value"},xa={class:"dialog-footer"},Ga={class:"dialog-header"},ka={class:"dialog-content"},Va={class:"copy-info-section"},Sa={class:"section-title"},Ta={class:"copy-info"},Ea={class:"info-item"},Aa={class:"value"},za={class:"format-section"},La={class:"section-title"},Ra={class:"dialog-footer"},Ba={class:"dialog-header"},Ma={class:"dialog-content"},Da={class:"export-info-section"},Oa={class:"section-title"},Ua={class:"export-info"},Fa={class:"info-item"},ja={class:"value"},qa={class:"format-section"},Qa={class:"section-title"},Ha={class:"dialog-footer"},Ya={__name:"List",setup(Za){const ye=al(),he=[{Province:"北京市"},{Province:"天津市"},{Province:"河北省"},{Province:"山西省"},{Province:"内蒙古自治区"},{Province:"辽宁省"},{Province:"吉林省"},{Province:"黑龙江省"},{Province:"上海市"},{Province:"江苏省"},{Province:"浙江省"},{Province:"安徽省"},{Province:"福建省"},{Province:"江西省"},{Province:"山东省"},{Province:"河南省"},{Province:"湖北省"},{Province:"湖南省"},{Province:"广东省"},{Province:"广西壮族自治区"},{Province:"海南省"},{Province:"重庆市"},{Province:"四川省"},{Province:"贵州省"},{Province:"云南省"},{Province:"西藏自治区"},{Province:"陕西省"},{Province:"甘肃省"},{Province:"青海省"},{Province:"宁夏回族自治区"},{Province:"新疆维吾尔自治区"},{Province:"台湾省"},{Province:"香港特别行政区"},{Province:"澳门特别行政区"}],g=z({game:"",area:"",group:"",screenNode:"",screenEndTime:""}),D=x([]),q=x(!1),J=x(),p=x([]),K=x([]),W=x([]),X=x([]),h=z({page:1,size:20,total:0}),n=z({visible:!1,loading:!1,currentNode:null,form:{GameName:"",Province:"",AreaName:""},gameOptions:[],provinceOptions:[],areaOptions:[],rules:{GameName:[{required:!0,message:"请选择目标游戏",trigger:"change"}],Province:[{required:!0,message:"请选择省份",trigger:"change"}],AreaName:[{required:!0,message:"请选择目标地区",trigger:"change"}]}}),ee=x(),c=z({visible:!1,loading:!1,currentNode:null,form:{renewTime:""},rules:{renewTime:[{required:!0,message:"请选择续费时长",trigger:"change"}]},price:null,priceLoading:!1}),le=x(),C=z({visible:!1,loading:!1,form:{format:"wanan"},rules:{format:[{required:!0,message:"请选择复制格式",trigger:"change"}]}}),ae=x(),P=z({visible:!1,loading:!1,form:{format:"wanan"},rules:{format:[{required:!0,message:"请选择导出格式",trigger:"change"}]}}),te=x(),Pe=s=>s<=0?"danger":s<=7?"warning":"success",$e=()=>{h.page=1,I()},Ce=()=>{g.game="",g.area="",g.group="",g.screenNode="",g.screenEndTime="",h.page=1,I()},Ne=()=>{ye.push("/user/products/routes")},Ie=s=>{c.currentNode=s,c.form.renewTime="",c.price=null,c.visible=!0},xe=async s=>{try{n.currentNode=s,n.form.GameName="",n.form.Province="",n.form.AreaName="",n.provinceOptions=[],n.areaOptions=[];const e=await we();if(e.Code===1e3&&e.List)n.gameOptions=e.List||[],s.Game&&(n.form.GameName=s.Game,Q(s.Game));else{u.error("获取游戏列表失败");return}n.visible=!0}catch(e){console.error("打开切换节点对话框失败:",e),u.error("打开切换节点对话框失败")}},Ge=s=>{A.prompt("请输入新的分组（4位数字）","设置分组",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^\d{4}$/,inputErrorMessage:"分组必须是4位数字",inputValue:s.Group||""}).then(async({value:e})=>{try{const o=await be({Id:[s.Id],Group:e});o.Code===1e3?(u.success("分组设置成功"),I()):u.error(o.Msg||"分组设置失败")}catch(o){console.error("设置分组失败:",o),u.error("设置分组失败")}}).catch(()=>{})},ke=s=>{A.prompt("请输入新密码","设置密码",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"password",inputPlaceholder:"请输入新密码",inputValidator:e=>e?e.length<6?"密码长度不能少于6位":!0:"密码不能为空"}).then(async({value:e})=>{try{const o=await Bl({Id:[s.Id],Password:e});o.Code===1e3?(u.success("密码设置成功"),I()):u.error(o.Msg||"密码设置失败")}catch(o){console.error("设置密码失败:",o),u.error("设置密码失败")}}).catch(()=>{})},Ve=async s=>{try{await A.confirm(`确定要切换节点吗？

当前节点信息：
游戏：${s.Game}
区域：${s.Area}

将使用当前参数进行切换`,"快速切换节点",{confirmButtonText:"确定切换",cancelButtonText:"取消",type:"warning"});const e=await Z({Id:[s.Id],GameName:s.Game,Province:s.Province||"",AreaName:s.Area});if(e.Code===1e3)u.success("节点切换成功"),I();else{const o=e.Msg||"节点切换失败";e.Code===-1&&o.includes("库存不足")?u.error(`切换失败：${s.Game}/${s.Area} 库存不足，无法切换`):u.error(o)}}catch(e){e!=="cancel"&&(console.error("快速切换节点失败:",e),u.error("快速切换节点失败"))}},Se=(s,e)=>{switch(s){case"switch":xe(e);break;case"quickSwitch":Ve(e);break;case"setGroup":Ge(e);break;case"setPassword":ke(e);break;default:console.warn("未知的操作命令:",s)}},Te=()=>{if(p.value.length===0){u.warning("请先选择要设置分组的节点");return}A.prompt("请输入新的分组（4位数字）",`批量设置分组 (${p.value.length}个节点)`,{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^\d{4}$/,inputErrorMessage:"分组必须是4位数字"}).then(async({value:s})=>{try{const e=p.value.map(d=>d.Id),o=await be({Id:e,Group:s});o.Code===1e3?(u.success(`成功设置${p.value.length}个节点的分组`),T(),I()):u.error(o.Msg||"批量设置分组失败")}catch(e){console.error("批量设置分组失败:",e),u.error("批量设置分组失败")}}).catch(()=>{})},Ee=()=>{if(p.value.length===0){u.warning("请先选择要续费的节点");return}A.confirm(`确定要为选中的 ${p.value.length} 个节点进行批量续费吗？`,"批量续费确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{c.currentNode={Game:"批量续费",Area:`${p.value.length}个节点`,IpAddress:"多个IP",EndTime:"不同到期时间"},c.form.renewTime="",c.price=null,c.visible=!0}).catch(()=>{})},Ae=()=>{if(p.value.length===0){u.warning("请先选择要复制的节点");return}C.form.format="wanan",C.visible=!0},ze=()=>{if(p.value.length===0){u.warning("请先选择要导出的节点");return}P.form.format="wanan",P.visible=!0},Le=async()=>{if(p.value.length===0){u.warning("请先选择要切换的节点");return}const s=[...new Set(p.value.map(e=>e.Game))];if(s.length>1){u.error(`批量切换节点失败：选中的节点游戏不一致，包含 ${s.join("、")} 等游戏，请选择相同游戏的节点进行批量切换`);return}try{const e=p.value[0].Game;n.currentNode={Game:"批量切换",Area:`${p.value.length}个节点`,IpAddress:"多个IP"},n.form.GameName="",n.form.Province="",n.form.AreaName="",n.provinceOptions=[],n.areaOptions=[];const o=await we();if(o.Code===1e3&&o.List)n.gameOptions=o.List||[],e&&(n.form.GameName=e,Q(e));else{u.error("获取游戏列表失败");return}n.visible=!0}catch(e){console.error("打开批量切换节点对话框失败:",e),u.error("打开批量切换节点对话框失败")}},Re=async()=>{if(p.value.length===0){u.warning("请先选择要切换IP的节点");return}const s=[...new Set(p.value.map(e=>e.Game))];if(s.length>1){u.error(`批量切换IP失败：选中的节点游戏不一致，包含 ${s.join("、")} 等游戏，请选择相同游戏的节点进行批量切换`);return}try{await A.confirm(`确定要为选中的 ${p.value.length} 个节点进行批量切换IP吗？

注意：切换IP将使用当前节点的游戏和区域参数进行切换`,"批量切换IP确认",{confirmButtonText:"确定切换",cancelButtonText:"取消",type:"warning"});const e={};p.value.forEach(i=>{const _=`${i.Game}-${i.Area}`;e[_]||(e[_]={game:i.Game,area:i.Area,province:i.Province||"",nodeIds:[]}),e[_].nodeIds.push(i.Id)});let o=0,d=0;const m=[];for(const i of Object.values(e))try{const _=await Z({Id:i.nodeIds,GameName:i.game,Province:i.province,AreaName:i.area});if(_.Code===1e3)o+=i.nodeIds.length;else{d+=i.nodeIds.length;const N=_.Msg||"切换失败";console.error(`切换失败 - ${i.game}/${i.area}:`,N),_.Code===-1&&N.includes("库存不足")?m.push(`${i.game}/${i.area}: 库存不足，无法切换`):m.push(`${i.game}/${i.area}: ${N}`)}}catch(_){d+=i.nodeIds.length,console.error(`切换异常 - ${i.game}/${i.area}:`,_),m.push(`${i.game}/${i.area}: 网络异常`)}if(o>0&&d===0)u.success(`成功切换${o}个节点的IP`);else if(o>0&&d>0){const i=m.length>0?`
详细信息：
${m.join(`
`)}`:"";u.warning(`成功切换${o}个节点，${d}个节点切换失败${i}`)}else{const i=m.length>0?`
详细信息：
${m.join(`
`)}`:"";u.error(`批量切换IP失败${i}`)}T(),I()}catch(e){e!=="cancel"&&(console.error("批量切换IP失败:",e),u.error("批量切换IP失败"))}},Be=s=>{p.value=s},T=()=>{var s;(s=J.value)==null||s.clearSelection(),p.value=[]},Me=s=>{h.size=s,h.page=1,I()},De=s=>{h.page=s,I()},I=async()=>{q.value=!0;try{const s={page:h.page,pageSize:h.size};g.game&&(s.game=g.game),g.area&&(s.area=g.area),g.group&&(s.group=g.group),g.screenNode&&(s.ScreenNode=g.screenNode),g.screenEndTime&&(s.ScreenEndTime=g.screenEndTime);const e=await ol(s);e.Code===1e3?(D.value=e.List||[],h.total=e.RowCount||0,e.ScreenGameList&&(K.value=e.ScreenGameList),e.ScreenAreaList&&(W.value=e.ScreenAreaList),e.ScreenGroupList&&(X.value=e.ScreenGroupList)):(u.error(e.Msg||"获取数据失败"),D.value=[],h.total=0)}catch(s){console.error("获取业务列表失败:",s),u.error("获取数据失败"),D.value=[],h.total=0}finally{q.value=!1}},Q=s=>{if(n.form.Province="",n.form.AreaName="",n.areaOptions=[],!s){n.provinceOptions=[];return}n.provinceOptions=he},Oe=async s=>{try{if(n.form.AreaName="",n.areaOptions=[],!s||!n.form.GameName)return;const e=await _l({GameName:n.form.GameName,ScreenProvince:s});e.Code===1e3?e.List&&e.List.length>0?n.areaOptions=e.List:(n.areaOptions=[],u.warning("该省份暂无可用节点")):u.error(e.Msg||"获取地区列表失败")}catch(e){console.error("获取地区列表失败:",e),u.error("获取地区列表失败")}},Ue=async()=>{var e;if(c.price=null,!c.form.renewTime)return;c.priceLoading=!0;let s;if(c.currentNode&&c.currentNode.Game==="批量续费")s=p.value.map(o=>o.Id);else if(c.currentNode&&c.currentNode.Id)s=[c.currentNode.Id];else{c.priceLoading=!1;return}try{const o=await gl({Id:s,RenewTime:c.form.renewTime});o.Code===1e3&&o.List?c.currentNode.Game==="批量续费"?c.price=o.List.reduce((d,m)=>d+(m.Price||0),0):c.price=((e=o.List[0])==null?void 0:e.Price)??null:c.price=null}catch{c.price=null}finally{c.priceLoading=!1}},Fe=async()=>{var s;try{await((s=ee.value)==null?void 0:s.validate());const e=n.currentNode.Game==="批量切换",o=e?p.value.length:1;await A.confirm(`切换节点后，系统将根据新节点的单价重新计算并调整到期时间，确定要继续切换${e?`这${o}个节点`:""}吗？`,"切换节点提醒",{confirmButtonText:"确定切换",cancelButtonText:"取消",type:"warning"}),n.loading=!0;let d;e?d=p.value.map(i=>i.Id):d=[n.currentNode.Id];const m=await Z({Id:d,AreaName:n.form.AreaName,GameName:n.form.GameName,Province:n.form.Province});if(m.Code===1e3){const i=e?`成功切换${o}个节点`:"节点切换成功";u.success(i),n.visible=!1,e&&T(),I()}else{const i=m.Msg||"节点切换失败";m.Code===-1&&i.includes("库存不足")?e?u.error("批量切换失败：库存不足，无法切换选中的节点"):u.error(`切换失败：${n.form.GameName}/${n.form.AreaName} 库存不足，无法切换`):u.error(i)}}catch(e){e!==!1&&(console.error("切换节点失败:",e),u.error("切换节点失败"))}finally{n.loading=!1}},je=async()=>{var s;try{await((s=le.value)==null?void 0:s.validate()),c.loading=!0;let e,o;c.currentNode.Game==="批量续费"?(e=p.value.map(m=>m.Id),o=`成功续费${p.value.length}个节点`):(e=[c.currentNode.Id],o="节点续费成功");const d=await bl({Id:e,RenewTime:c.form.renewTime});d.Code===1e3?(u.success(o),c.visible=!1,c.currentNode.Game==="批量续费"&&T(),I()):u.error(d.Msg||"节点续费失败")}catch(e){e!==!1&&(console.error("续费失败:",e),u.error("续费失败"))}finally{c.loading=!1}},qe=async()=>{var s;try{await((s=ae.value)==null?void 0:s.validate()),C.loading=!0;const e=oe(p.value,C.form.format);try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(e);else{const o=document.createElement("textarea");o.value=e,o.style.position="fixed",o.style.left="-999999px",o.style.top="-999999px",document.body.appendChild(o),o.focus(),o.select(),document.execCommand("copy"),document.body.removeChild(o)}u.success(`成功复制${p.value.length}个节点信息到剪贴板`),C.visible=!1,T()}catch(o){console.error("剪贴板操作失败:",o),u.error("复制到剪贴板失败，请检查浏览器权限或手动复制")}}catch(e){e!==!1&&(console.error("复制失败:",e),u.error("操作失败"))}finally{C.loading=!1}},Qe=async()=>{var s;try{await((s=te.value)==null?void 0:s.validate()),P.loading=!0;const e=oe(p.value,P.form.format),o=new Blob([e],{type:"text/plain;charset=utf-8"}),d=window.URL.createObjectURL(o),m=document.createElement("a");m.href=d;const i=new Date,_=i.getFullYear()+String(i.getMonth()+1).padStart(2,"0")+String(i.getDate()).padStart(2,"0")+"_"+String(i.getHours()).padStart(2,"0")+String(i.getMinutes()).padStart(2,"0")+String(i.getSeconds()).padStart(2,"0");m.download=`节点导出_${P.form.format}_${_}.txt`,document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(d),u.success(`成功导出${p.value.length}个节点信息到文件`),P.visible=!1,T()}catch(e){e!==!1&&(console.error("导出失败:",e),u.error("导出文件失败"))}finally{P.loading=!1}},oe=(s,e)=>s.map(d=>{const m=d.Connect_IpAddress||d.IpAddress||"",i=d.Port||"",_=d.User||"",N=d.Pass||"",V=d.Area||"",H=d.StartTime||"",w=d.EndTime||"";switch(e){case"wanan":return`${m}|${i}|${_}|${N}|${w}`;case"slash":return`${m}/${i}/${_}/${N}`;case"region":return`${m}/${i}/${_}/${N}/${V}`;case"regionDate":return`${m}/${i}/${_}/${N}/${V}/${H}/${w}`;case"browser":return`${m}:${i}:${_}:${N}`;default:return`${m}|${i}|${_}|${N}|${w}`}}).join(`
`);return tl(()=>{I()}),(s,e)=>{const o=wl,d=yl,m=hl,i=Pl,_=$l,N=Cl,V=Nl,H=Il,w=xl,He=Gl,O=kl,Ye=Vl,Ze=Sl,Je=Tl,Ke=El,We=sl,B=Al,U=nl,G=zl,se=Ll,Xe=Rl;return y(),k("div",Ml,[l(We,{class:"page-card"},{header:a(()=>[t("div",Dl,[e[22]||(e[22]=t("span",null,"业务列表",-1)),l(d,{type:"primary",onClick:Ne},{default:a(()=>[l(o,null,{default:a(()=>[l(f(rl))]),_:1}),e[21]||(e[21]=v(" 新增业务 "))]),_:1,__:[21]})])]),default:a(()=>[t("div",Ol,[l(V,{model:g,inline:""},{default:a(()=>[l(_,{label:"游戏"},{default:a(()=>[l(i,{modelValue:g.game,"onUpdate:modelValue":e[0]||(e[0]=r=>g.game=r),placeholder:"请选择游戏",clearable:"",style:{width:"200px"}},{default:a(()=>[l(m,{label:"全部",value:""}),(y(!0),k(L,null,R(K.value,r=>(y(),E(m,{key:r,label:r,value:r},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(_,{label:"区域"},{default:a(()=>[l(i,{modelValue:g.area,"onUpdate:modelValue":e[1]||(e[1]=r=>g.area=r),placeholder:"请选择区域",clearable:"",style:{width:"200px"}},{default:a(()=>[l(m,{label:"全部",value:""}),(y(!0),k(L,null,R(W.value,r=>(y(),E(m,{key:r,label:r,value:r},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(_,{label:"分组"},{default:a(()=>[l(i,{modelValue:g.group,"onUpdate:modelValue":e[2]||(e[2]=r=>g.group=r),placeholder:"请选择分组",clearable:"",style:{width:"120px"}},{default:a(()=>[l(m,{label:"全部",value:""}),(y(!0),k(L,null,R(X.value,r=>(y(),E(m,{key:r,label:r,value:r},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(_,{label:"IP/链接"},{default:a(()=>[l(N,{modelValue:g.screenNode,"onUpdate:modelValue":e[3]||(e[3]=r=>g.screenNode=r),placeholder:"请输入IP或链接地址",clearable:"",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),l(_,{label:"过期时间"},{default:a(()=>[l(N,{modelValue:g.screenEndTime,"onUpdate:modelValue":e[4]||(e[4]=r=>g.screenEndTime=r),placeholder:"请输入天数",clearable:"",style:{width:"120px"},type:"number",min:"0"},null,8,["modelValue"])]),_:1}),l(_,null,{default:a(()=>[l(d,{type:"primary",onClick:$e},{default:a(()=>[l(o,null,{default:a(()=>[l(f(il))]),_:1}),e[23]||(e[23]=v(" 搜索 "))]),_:1,__:[23]}),l(d,{onClick:Ce},{default:a(()=>[l(o,null,{default:a(()=>[l(f(ne))]),_:1}),e[24]||(e[24]=v(" 重置 "))]),_:1,__:[24]})]),_:1})]),_:1},8,["model"])]),t("div",Ul,[l(H,{title:p.value.length>0?`已选择 ${p.value.length} 个节点`:"请选择节点进行批量操作",type:p.value.length>0?"info":"warning","show-icon":"",closable:!1},{default:a(()=>[t("div",Fl,[l(d,{type:"primary",size:"small",disabled:p.value.length===0,onClick:Te},{default:a(()=>e[25]||(e[25]=[v(" 批量设置分组 ")])),_:1,__:[25]},8,["disabled"]),l(d,{type:"warning",size:"small",disabled:p.value.length===0,onClick:Ee},{default:a(()=>e[26]||(e[26]=[v(" 批量续费 ")])),_:1,__:[26]},8,["disabled"]),l(d,{type:"success",size:"small",disabled:p.value.length===0,onClick:Ae},{default:a(()=>e[27]||(e[27]=[v(" 批量复制 ")])),_:1,__:[27]},8,["disabled"]),l(d,{type:"info",size:"small",disabled:p.value.length===0,onClick:ze},{default:a(()=>e[28]||(e[28]=[v(" 批量导出 ")])),_:1,__:[28]},8,["disabled"]),l(d,{type:"primary",size:"small",disabled:p.value.length===0,onClick:Le},{default:a(()=>e[29]||(e[29]=[v(" 批量切换节点 ")])),_:1,__:[29]},8,["disabled"]),l(d,{type:"warning",size:"small",disabled:p.value.length===0,onClick:Re},{default:a(()=>e[30]||(e[30]=[v(" 批量切换IP ")])),_:1,__:[30]},8,["disabled"]),l(d,{size:"small",disabled:p.value.length===0,onClick:T},{default:a(()=>e[31]||(e[31]=[v(" 取消选择 ")])),_:1,__:[31]},8,["disabled"])])]),_:1},8,["title","type"])]),dl((y(),E(Je,{ref_key:"tableRef",ref:J,data:D.value,stripe:"",style:{width:"100%"},onSelectionChange:Be},{default:a(()=>[l(w,{type:"selection",width:"45"}),l(w,{prop:"Id",label:"ID",width:"100"}),l(w,{prop:"Game",label:"游戏","min-width":"180"}),l(w,{prop:"Area",label:"区域",width:"140"}),l(w,{prop:"Group",label:"分组",width:"70"}),l(w,{prop:"Isp",label:"线路",width:"60"}),l(w,{prop:"IpAddress",label:"节点IP",width:"125"}),l(w,{label:"代理信息",width:"180"},{default:a(({row:r})=>[t("div",jl,[t("div",null,"用户: "+$(r.User),1),t("div",null,"密码: "+$(r.Pass),1),t("div",null,"链接: "+$(r.Connect_IpAddress),1),t("div",ql,"端口: "+$(r.Port),1)])]),_:1}),l(w,{prop:"StartTime",label:"开始时间",width:"120"}),l(w,{prop:"EndTime",label:"到期时间",width:"120"}),l(w,{label:"剩余天数",width:"100"},{default:a(({row:r})=>[l(He,{type:Pe(r.EndDays),size:"small"},{default:a(()=>[v($(Math.floor(r.EndDays))+"天 ",1)]),_:2},1032,["type"])]),_:1}),l(w,{label:"操作",width:"150",fixed:"right"},{default:a(({row:r})=>[l(d,{type:"success",size:"small",onClick:S=>Ie(r),style:{"margin-right":"8px"}},{default:a(()=>e[32]||(e[32]=[v(" 续费 ")])),_:2,__:[32]},1032,["onClick"]),l(Ze,{trigger:"click",onCommand:S=>Se(S,r)},{dropdown:a(()=>[l(Ye,null,{default:a(()=>[l(O,{command:"switch"},{default:a(()=>[l(o,null,{default:a(()=>[l(f(re))]),_:1}),e[34]||(e[34]=v(" 切换节点 "))]),_:1,__:[34]}),l(O,{command:"quickSwitch"},{default:a(()=>[l(o,null,{default:a(()=>[l(f(ne))]),_:1}),e[35]||(e[35]=v(" 切换IP "))]),_:1,__:[35]}),l(O,{command:"setGroup"},{default:a(()=>[l(o,null,{default:a(()=>[l(f(Y))]),_:1}),e[36]||(e[36]=v(" 设置分组 "))]),_:1,__:[36]}),l(O,{command:"setPassword"},{default:a(()=>[l(o,null,{default:a(()=>[l(f(ul))]),_:1}),e[37]||(e[37]=v(" 设置密码 "))]),_:1,__:[37]})]),_:1})]),default:a(()=>[l(d,{size:"small",type:"info"},{default:a(()=>[e[33]||(e[33]=v(" 更多 ")),l(o,{class:"el-icon--right"},{default:a(()=>[l(f(F))]),_:1})]),_:1,__:[33]})]),_:2},1032,["onCommand"])]),_:1})]),_:1},8,["data"])),[[Xe,q.value]]),t("div",Ql,[l(Ke,{"current-page":h.page,"onUpdate:currentPage":e[5]||(e[5]=r=>h.page=r),"page-size":h.size,"onUpdate:pageSize":e[6]||(e[6]=r=>h.size=r),"page-sizes":[10,20,50,100],total:h.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Me,onCurrentChange:De},null,8,["current-page","page-size","total"])])]),_:1}),l(U,{modelValue:n.visible,"onUpdate:modelValue":e[11]||(e[11]=r=>n.visible=r),width:"580px","close-on-click-modal":!1,class:"switch-node-dialog","align-center":""},{header:a(()=>[t("div",Hl,[l(o,{class:"dialog-icon"},{default:a(()=>[l(f(re))]),_:1}),e[38]||(e[38]=t("span",{class:"dialog-title"},"切换节点",-1))])]),footer:a(()=>[t("div",na,[l(d,{size:"large",onClick:e[10]||(e[10]=r=>n.visible=!1)},{default:a(()=>[l(o,null,{default:a(()=>[l(f(j))]),_:1}),e[44]||(e[44]=v(" 取消 "))]),_:1,__:[44]}),l(d,{type:"primary",size:"large",loading:n.loading,onClick:Fe},{default:a(()=>[l(o,null,{default:a(()=>[l(f(ie))]),_:1}),e[45]||(e[45]=v(" 确认切换 "))]),_:1,__:[45]},8,["loading"])])]),default:a(()=>[t("div",Yl,[l(V,{ref_key:"switchFormRef",ref:ee,model:n.form,rules:n.rules,"label-width":"90px",class:"switch-form"},{default:a(()=>{var r,S,M;return[t("div",Zl,[t("h4",Jl,[l(o,null,{default:a(()=>[l(f(de))]),_:1}),e[39]||(e[39]=v(" 当前节点信息 "))]),t("div",Kl,[t("div",Wl,[l(o,null,{default:a(()=>[l(f(ue))]),_:1}),e[40]||(e[40]=t("span",{class:"label"},"游戏:",-1)),t("span",Xl,$((r=n.currentNode)==null?void 0:r.Game),1)]),t("div",ea,[l(o,null,{default:a(()=>[l(f(ce))]),_:1}),e[41]||(e[41]=t("span",{class:"label"},"区域:",-1)),t("span",la,$((S=n.currentNode)==null?void 0:S.Area),1)]),t("div",aa,[l(o,null,{default:a(()=>[l(f(me))]),_:1}),e[42]||(e[42]=t("span",{class:"label"},"IP:",-1)),t("span",ta,$((M=n.currentNode)==null?void 0:M.IpAddress),1)])])]),l(B,{class:"section-divider copy-divider"},{default:a(()=>[l(o,null,{default:a(()=>[l(f(F))]),_:1})]),_:1}),t("div",oa,[t("h4",sa,[l(o,null,{default:a(()=>[l(f(cl))]),_:1}),e[43]||(e[43]=v(" 目标节点选择 "))]),l(_,{label:"目标游戏",prop:"GameName"},{default:a(()=>[l(i,{modelValue:n.form.GameName,"onUpdate:modelValue":e[7]||(e[7]=b=>n.form.GameName=b),placeholder:"请选择游戏",style:{width:"100%"},size:"large",onChange:Q},{default:a(()=>[(y(!0),k(L,null,R(n.gameOptions,b=>(y(),E(m,{key:b.Game,label:b.Game,value:b.Game},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(_,{label:"目标省份",prop:"Province"},{default:a(()=>[l(i,{modelValue:n.form.Province,"onUpdate:modelValue":e[8]||(e[8]=b=>n.form.Province=b),placeholder:"请选择省份",style:{width:"100%"},size:"large",disabled:!n.form.GameName,onChange:Oe},{default:a(()=>[(y(!0),k(L,null,R(n.provinceOptions,b=>(y(),E(m,{key:b.Province,label:b.Province,value:b.Province},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1}),l(_,{label:"目标地区",prop:"AreaName"},{default:a(()=>[l(i,{modelValue:n.form.AreaName,"onUpdate:modelValue":e[9]||(e[9]=b=>n.form.AreaName=b),placeholder:"请选择地区",style:{width:"100%"},size:"large",disabled:!n.form.Province},{default:a(()=>[(y(!0),k(L,null,R(n.areaOptions,b=>(y(),E(m,{key:b.Area,label:`${b.Area} (${b.Count>0?b.Count:"99+"}个空闲)`,value:b.Area},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})])]}),_:1},8,["model","rules"])])]),_:1},8,["modelValue"]),l(U,{modelValue:c.visible,"onUpdate:modelValue":e[14]||(e[14]=r=>c.visible=r),width:"520px","close-on-click-modal":!1,class:"renew-dialog","align-center":""},{header:a(()=>[t("div",ra,[l(o,{class:"dialog-icon"},{default:a(()=>[l(f(ml))]),_:1}),e[46]||(e[46]=t("span",{class:"dialog-title"},"节点续费",-1))])]),footer:a(()=>[t("div",xa,[l(d,{size:"large",onClick:e[13]||(e[13]=r=>c.visible=!1)},{default:a(()=>[l(o,null,{default:a(()=>[l(f(j))]),_:1}),e[61]||(e[61]=v(" 取消 "))]),_:1,__:[61]}),l(d,{type:"primary",size:"large",loading:c.loading,onClick:je},{default:a(()=>[l(o,null,{default:a(()=>[l(f(ie))]),_:1}),e[62]||(e[62]=v(" 确认续费 "))]),_:1,__:[62]},8,["loading"])])]),default:a(()=>[t("div",ia,[l(V,{ref_key:"renewFormRef",ref:le,model:c.form,rules:c.rules,"label-width":"90px",class:"renew-form"},{default:a(()=>{var r,S,M,b;return[t("div",da,[t("h4",ua,[l(o,null,{default:a(()=>[l(f(de))]),_:1}),e[47]||(e[47]=v(" 当前节点信息 "))]),t("div",ca,[t("div",ma,[l(o,null,{default:a(()=>[l(f(ue))]),_:1}),e[48]||(e[48]=t("span",{class:"label"},"游戏:",-1)),t("span",fa,$((r=c.currentNode)==null?void 0:r.Game),1)]),t("div",pa,[l(o,null,{default:a(()=>[l(f(ce))]),_:1}),e[49]||(e[49]=t("span",{class:"label"},"区域:",-1)),t("span",va,$((S=c.currentNode)==null?void 0:S.Area),1)]),t("div",_a,[l(o,null,{default:a(()=>[l(f(me))]),_:1}),e[50]||(e[50]=t("span",{class:"label"},"IP:",-1)),t("span",ga,$((M=c.currentNode)==null?void 0:M.IpAddress),1)]),t("div",ba,[l(o,null,{default:a(()=>[l(f(fl))]),_:1}),e[51]||(e[51]=t("span",{class:"label"},"到期时间:",-1)),t("span",wa,$((b=c.currentNode)==null?void 0:b.EndTime),1)])])]),l(B,{class:"section-divider"},{default:a(()=>[l(o,null,{default:a(()=>[l(f(pl))]),_:1})]),_:1}),t("div",ya,[t("h4",ha,[l(o,null,{default:a(()=>[l(f(vl))]),_:1}),e[52]||(e[52]=v(" 续费时长选择 "))]),l(_,{label:"续费时长",prop:"renewTime"},{default:a(()=>[l(i,{modelValue:c.form.renewTime,"onUpdate:modelValue":e[12]||(e[12]=el=>c.form.renewTime=el),placeholder:"请选择续费时长",style:{width:"100%"},size:"large",onChange:Ue},{default:a(()=>[l(m,{label:"一天",value:"day"},{default:a(()=>e[53]||(e[53]=[t("div",{class:"renew-option"},[t("span",{class:"option-label"},"一天"),t("span",{class:"option-desc trial"},"短期体验")],-1)])),_:1,__:[53]}),l(m,{label:"一周",value:"week"},{default:a(()=>e[54]||(e[54]=[t("div",{class:"renew-option"},[t("span",{class:"option-label"},"一周"),t("span",{class:"option-desc temporary"},"临时使用")],-1)])),_:1,__:[54]}),l(m,{label:"一个月",value:"moon"},{default:a(()=>e[55]||(e[55]=[t("div",{class:"renew-option"},[t("span",{class:"option-label"},"一个月"),t("span",{class:"option-desc recommended"},"推荐选择")],-1)])),_:1,__:[55]}),l(m,{label:"三个月",value:"three_moon"},{default:a(()=>e[56]||(e[56]=[t("div",{class:"renew-option"},[t("span",{class:"option-label"},"三个月"),t("span",{class:"option-desc best-value"},"性价比高")],-1)])),_:1,__:[56]}),l(m,{label:"半年",value:"six_moon"},{default:a(()=>e[57]||(e[57]=[t("div",{class:"renew-option"},[t("span",{class:"option-label"},"半年"),t("span",{class:"option-desc long-term"},"长期优惠")],-1)])),_:1,__:[57]}),l(m,{label:"一年",value:"year"},{default:a(()=>e[58]||(e[58]=[t("div",{class:"renew-option"},[t("span",{class:"option-label"},"一年"),t("span",{class:"option-desc best-deal"},"最大优惠")],-1)])),_:1,__:[58]})]),_:1},8,["modelValue"])]),_:1})]),l(B,{class:"section-divider"},{default:a(()=>[l(o,null,{default:a(()=>[l(f(fe))]),_:1})]),_:1}),t("div",Pa,[t("h4",$a,[l(o,null,{default:a(()=>[l(f(fe))]),_:1}),e[59]||(e[59]=v(" 续费价格 "))]),t("div",Ca,[e[60]||(e[60]=t("div",{class:"price-label"},"总价:",-1)),c.priceLoading?(y(),k("div",Na,"加载中...")):(y(),k("div",Ia,$(c.price||"0.00")+"元",1))])])]}),_:1},8,["model","rules"])])]),_:1},8,["modelValue"]),l(U,{modelValue:C.visible,"onUpdate:modelValue":e[17]||(e[17]=r=>C.visible=r),width:"480px","close-on-click-modal":!1,class:"copy-dialog","align-center":""},{header:a(()=>[t("div",Ga,[l(o,{class:"dialog-icon"},{default:a(()=>[l(f(pe))]),_:1}),e[63]||(e[63]=t("span",{class:"dialog-title"},"批量复制",-1))])]),footer:a(()=>[t("div",Ra,[l(d,{size:"large",onClick:e[16]||(e[16]=r=>C.visible=!1)},{default:a(()=>[l(o,null,{default:a(()=>[l(f(j))]),_:1}),e[72]||(e[72]=v(" 取消 "))]),_:1,__:[72]}),l(d,{type:"primary",size:"large",loading:C.loading,onClick:qe},{default:a(()=>[l(o,null,{default:a(()=>[l(f(pe))]),_:1}),e[73]||(e[73]=v(" 复制到剪贴板 "))]),_:1,__:[73]},8,["loading"])])]),default:a(()=>[t("div",ka,[t("div",Va,[t("h4",Sa,[l(o,null,{default:a(()=>[l(f(ve))]),_:1}),e[64]||(e[64]=v(" 复制信息 "))]),t("div",Ta,[t("div",Ea,[l(o,null,{default:a(()=>[l(f(_e))]),_:1}),e[65]||(e[65]=t("span",{class:"label"},"选中节点:",-1)),t("span",Aa,$(p.value.length)+"个",1)])])]),l(B,{class:"section-divider"},{default:a(()=>[l(o,null,{default:a(()=>[l(f(F))]),_:1})]),_:1}),t("div",za,[t("h4",La,[l(o,null,{default:a(()=>[l(f(Y))]),_:1}),e[66]||(e[66]=v(" 选择复制格式 "))]),l(V,{ref_key:"copyFormRef",ref:ae,model:C.form,rules:C.rules,"label-width":"0px",class:"copy-form"},{default:a(()=>[l(_,{prop:"format"},{default:a(()=>[l(se,{modelValue:C.form.format,"onUpdate:modelValue":e[15]||(e[15]=r=>C.form.format=r),class:"format-radio-group"},{default:a(()=>[l(G,{value:"wanan",class:"format-radio"},{default:a(()=>e[67]||(e[67]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"万安格式"),t("div",{class:"format-desc"},"ip|端口|账号|密码|到期日期")],-1)])),_:1,__:[67]}),l(G,{value:"slash",class:"format-radio"},{default:a(()=>e[68]||(e[68]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"斜杠格式"),t("div",{class:"format-desc"},"ip/端口/账号/密码")],-1)])),_:1,__:[68]}),l(G,{value:"region",class:"format-radio"},{default:a(()=>e[69]||(e[69]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"地区格式"),t("div",{class:"format-desc"},"ip/端口/账号/密码/地区")],-1)])),_:1,__:[69]}),l(G,{value:"regionDate",class:"format-radio"},{default:a(()=>e[70]||(e[70]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"地区日期格式"),t("div",{class:"format-desc"},"ip/端口/账号/密码/地区/购买/到期")],-1)])),_:1,__:[70]}),l(G,{value:"browser",class:"format-radio"},{default:a(()=>e[71]||(e[71]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"浏览器格式"),t("div",{class:"format-desc"},"ip:端口:账号:密码")],-1)])),_:1,__:[71]})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])])]),_:1},8,["modelValue"]),l(U,{modelValue:P.visible,"onUpdate:modelValue":e[20]||(e[20]=r=>P.visible=r),width:"480px","close-on-click-modal":!1,class:"export-dialog","align-center":""},{header:a(()=>[t("div",Ba,[l(o,{class:"dialog-icon"},{default:a(()=>[l(f(ge))]),_:1}),e[74]||(e[74]=t("span",{class:"dialog-title"},"批量导出",-1))])]),footer:a(()=>[t("div",Ha,[l(d,{size:"large",onClick:e[19]||(e[19]=r=>P.visible=!1)},{default:a(()=>[l(o,null,{default:a(()=>[l(f(j))]),_:1}),e[83]||(e[83]=v(" 取消 "))]),_:1,__:[83]}),l(d,{type:"primary",size:"large",loading:P.loading,onClick:Qe},{default:a(()=>[l(o,null,{default:a(()=>[l(f(ge))]),_:1}),e[84]||(e[84]=v(" 导出到文件 "))]),_:1,__:[84]},8,["loading"])])]),default:a(()=>[t("div",Ma,[t("div",Da,[t("h4",Oa,[l(o,null,{default:a(()=>[l(f(ve))]),_:1}),e[75]||(e[75]=v(" 导出信息 "))]),t("div",Ua,[t("div",Fa,[l(o,null,{default:a(()=>[l(f(_e))]),_:1}),e[76]||(e[76]=t("span",{class:"label"},"选中节点:",-1)),t("span",ja,$(p.value.length)+"个",1)])])]),l(B,{class:"section-divider"},{default:a(()=>[l(o,null,{default:a(()=>[l(f(F))]),_:1})]),_:1}),t("div",qa,[t("h4",Qa,[l(o,null,{default:a(()=>[l(f(Y))]),_:1}),e[77]||(e[77]=v(" 选择导出格式 "))]),l(V,{ref_key:"exportFormRef",ref:te,model:P.form,rules:P.rules,"label-width":"0px",class:"export-form"},{default:a(()=>[l(_,{prop:"format"},{default:a(()=>[l(se,{modelValue:P.form.format,"onUpdate:modelValue":e[18]||(e[18]=r=>P.form.format=r),class:"format-radio-group"},{default:a(()=>[l(G,{value:"wanan",class:"format-radio"},{default:a(()=>e[78]||(e[78]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"万安格式"),t("div",{class:"format-desc"},"ip|端口|账号|密码|到期日期")],-1)])),_:1,__:[78]}),l(G,{value:"slash",class:"format-radio"},{default:a(()=>e[79]||(e[79]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"斜杠格式"),t("div",{class:"format-desc"},"ip/端口/账号/密码")],-1)])),_:1,__:[79]}),l(G,{value:"region",class:"format-radio"},{default:a(()=>e[80]||(e[80]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"地区格式"),t("div",{class:"format-desc"},"ip/端口/账号/密码/地区")],-1)])),_:1,__:[80]}),l(G,{value:"regionDate",class:"format-radio"},{default:a(()=>e[81]||(e[81]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"地区日期格式"),t("div",{class:"format-desc"},"ip/端口/账号/密码/地区/购买/到期")],-1)])),_:1,__:[81]}),l(G,{value:"browser",class:"format-radio"},{default:a(()=>e[82]||(e[82]=[t("div",{class:"format-option"},[t("div",{class:"format-title"},"浏览器格式"),t("div",{class:"format-desc"},"ip:端口:账号:密码")],-1)])),_:1,__:[82]})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])])]),_:1},8,["modelValue"])])}}},ct=ll(Ya,[["__scopeId","data-v-536e5ee9"]]);export{ct as default};
