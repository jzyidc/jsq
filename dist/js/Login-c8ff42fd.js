import{_ as y}from"./_plugin-vue_export-helper-f918498f.js";/* empty css                     *//* empty css                *//* empty css                    *//* empty css                 */import{a as b,_ as k,u as V,r as x,$ as E,c as L,d as C,g as t,i as o,w as s,a0 as F,a1 as R,l as i,j as $,a2 as B,a3 as I,a4 as U,a5 as q,q as z}from"./index-77fd0c89.js";const N={class:"login-container"},K={class:"login-box"},S={class:"login-options"},j={class:"register-link"},A={__name:"Login",setup(T){const f=b();k();const d=V(),u=x(),r=E({username:"",password:"",remember:!1}),g={username:[{required:!0,message:"请输入用户名或邮箱",trigger:"blur"},{min:3,max:50,message:"长度在 3 到 50 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}]},m=async()=>{if(u.value)try{if(!await u.value.validate())return;(await d.loginAction(r,!1)).success&&f.push("/user")}catch(n){console.error("登录失败:",n)}};return(n,e)=>{const p=B,a=I,c=U,_=q,v=z,w=R;return L(),C("div",N,[t("div",K,[e[10]||(e[10]=t("div",{class:"login-header"},[t("h2",null,"会员登录"),t("p",null,"欢迎登录")],-1)),o(w,{ref_key:"loginFormRef",ref:u,model:r,rules:g,class:"login-form",onKeyup:F(m,["enter"])},{default:s(()=>[o(a,{prop:"username"},{default:s(()=>[o(p,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=l=>r.username=l),placeholder:"请输入手机号",size:"large","prefix-icon":"Iphone"},null,8,["modelValue"])]),_:1}),o(a,{prop:"password"},{default:s(()=>[o(p,{modelValue:r.password,"onUpdate:modelValue":e[1]||(e[1]=l=>r.password=l),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),o(a,null,{default:s(()=>[t("div",S,[o(c,{modelValue:r.remember,"onUpdate:modelValue":e[2]||(e[2]=l=>r.remember=l)},{default:s(()=>e[5]||(e[5]=[i("记住我")])),_:1,__:[5]},8,["modelValue"]),o(_,{type:"primary",underline:"never",onClick:e[3]||(e[3]=l=>n.$router.push("/forgot-password"))},{default:s(()=>e[6]||(e[6]=[i("忘记密码？")])),_:1,__:[6]})])]),_:1}),o(a,null,{default:s(()=>[o(v,{type:"primary",size:"large",class:"login-button",loading:$(d).loading,onClick:m},{default:s(()=>e[7]||(e[7]=[i(" 登录 ")])),_:1,__:[7]},8,["loading"])]),_:1}),o(a,null,{default:s(()=>[t("div",j,[e[9]||(e[9]=i(" 还没有账号？ ")),o(_,{type:"primary",onClick:e[4]||(e[4]=l=>n.$router.push("/register"))},{default:s(()=>e[8]||(e[8]=[i(" 立即注册 ")])),_:1,__:[8]})])]),_:1})]),_:1},8,["model"])])])}}},P=y(A,[["__scopeId","data-v-f91555ff"]]);export{P as default};
